(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{218:function(e,t,a){e.exports=a(370)},370:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),c=a.n(i),o=a(62),s=a(36),l=a(10),u=a(11),p=a(13),m=a(12),h=a(14),d=a(24),g=a(35),f=Object(n.createContext)(),b=f.Provider,y=f.Consumer,v=function(e){return function(t){return r.a.createElement(y,null,function(a){return r.a.createElement(e,Object.assign({},a,t))})}},E=function(e){var t=e.key,a=e.value;if("undefined"!==typeof Storage)return t&&a&&localStorage.setItem(t,a),localStorage.getItem(t)},k=function(e){return e.split(", ").map(function(e){return{tid:e.split(":")[0],title:e.split(":")[1]}})},j=a(30),O=new function e(){var t=this;Object(l.a)(this,e),this.getData=function(e){return new Promise(function(a,n){setTimeout(function(){fetch(e).then(function(e){return e.json()}).then(function(e){return a(e)}).catch(function(t){return n(new Error("Could not load ".concat(e),t))})},t.delay)})},this.getArticle=function(e){var a="".concat(t.apiUrl,"/api/articles/")+e;return t.getData(a)},this.getArticles=function(e){var a=e.ids,n=e.page,r="".concat(t.apiUrl,"/api/articles/")+(a.length>0?a.join("+"):"")+(n>0?"?page=".concat(n):"");return t.getData(r)},this.getArticlesByTag=function(e){var a="".concat(t.apiUrl,"/api/tag/")+e;return t.getData(a)},this.getTags=function(e){var a="".concat(t.apiUrl,"/api/term/")+e;return t.getData(a)},this.articlesQuery=function(e){var a="".concat(t.apiUrl,"/api/search?_q=")+e;return t.getData(a)},this.loadImage=function(e){return new Promise(function(t,a){var n=new Image;n.onload=function(){return t(n)},n.onerror=function(){return a(new Error("Could not load image at "+e))},n.src=e})},this.apiUrl="https://api.toabr.de",this.delay=0},w=a(52),S=a.n(w),x=a(2),C=a(25),T=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={open:!0,canDie:!1,logoReady:!1},a.Transition=function(e){return r.a.createElement(x.u,Object.assign({direction:"up"},e))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.minLiveTime?this.props.minLiveTime:800;O.loadImage(S.a).then(function(a){e.setState({logoReady:!0}),setTimeout(function(){e.setState({canDie:!0})},t)})}},{key:"componentDidUpdate",value:function(e){var t=this.props;e.open!==t.open&&this.setState({open:!1})}},{key:"render",value:function(){var e=this.props.classes,t=!(!this.state.open&&this.state.canDie);return r.a.createElement(x.e,{fullScreen:!0,open:t,TransitionComponent:this.Transition,transitionDuration:{enter:0,exit:250}},r.a.createElement(x.f,{className:e.paper},r.a.createElement(x.y,{in:this.state.logoReady},r.a.createElement("img",{src:S.a,className:e.logo,alt:"Wiki - Logo"})),r.a.createElement(x.l,{className:e.progress,color:"secondary"})))}}]),t}(n.Component),A=Object(C.withStyles)(function(e){var t;return{paper:{textAlign:"center",padding:e.spacing.unit,background:e.palette.primary.main},logo:(t={maxWidth:"100%"},Object(j.a)(t,e.breakpoints.up("sm"),{maxHeight:"600px"}),Object(j.a)(t,e.breakpoints.up("lg"),{maxHeight:"700px"}),t),progress:{},button:{margin:e.spacing.unit/2}}})(T),N=a(138),L=a.n(N),D=a(32),M=Object(g.e)(v(Object(C.withStyles)(function(e){return{search:Object(j.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(D.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(D.fade)(e.palette.common.white,.25)},marginLeft:2*e.spacing.unit,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:"48px",height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(j.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:"50px",transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(L.a,null)),r.a.createElement(x.k,{placeholder:"Search\u2026",onKeyPress:function(t){"Enter"===t.key&&(e.app.setSearchTerm(t.target.value),t.target.value="",e.history.push("/search"))},classes:{root:t.inputRoot,input:t.inputInput}}))}))),I=a(144),R=a.n(I),H=a(140),U=a.n(H),B=a(141),W=a.n(B),P=a(43),q=a.n(P),F=a(142),z=a.n(F),K=a(143),_=a.n(K),G=[{title:"Home",icon:r.a.createElement(U.a,null),route:"/"},{title:"Tags",icon:r.a.createElement(W.a,null),route:"/tags"},{title:"Stars",icon:r.a.createElement(q.a,null),route:"/likes"},{title:"History",icon:r.a.createElement(z.a,null),route:"/recent"},{title:"About",icon:r.a.createElement(_.a,null),route:"/about"}],J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={drawer:!1},a.toggleDrawer=function(e){return function(){a.setState({drawer:e})}},a.handleMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.app,a=r.a.createElement(x.m,{className:e.list},G.map(function(e){var a=e.icon;return"Stars"!==e.title?r.a.createElement(x.n,{button:!0,key:e.title,component:d.b,to:e.route},r.a.createElement(x.o,null,a),r.a.createElement(x.q,{primary:e.title})):r.a.createElement(x.n,{button:!0,key:e.title,component:d.b,to:e.route},r.a.createElement(x.o,null,r.a.createElement(x.b,{color:"secondary",badgeContent:t.likedArticles.length},a)),r.a.createElement(x.q,{primary:e.title}))}));return r.a.createElement("div",null,r.a.createElement(x.v,{className:e.drawer,open:this.state.drawer,onClose:this.toggleDrawer(!1),onOpen:this.toggleDrawer(!0)},r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer(!1),onKeyDown:this.toggleDrawer(!1)},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(x.g,null),a)),r.a.createElement(x.a,{position:"fixed"},r.a.createElement(x.w,null,r.a.createElement(x.j,{className:e.menuButton,color:"inherit","aria-label":"Menu",onClick:this.toggleDrawer(!0)},r.a.createElement(R.a,null)),r.a.createElement(x.x,{variant:"h6",color:"inherit",className:e.grow},"WIKI"),r.a.createElement(M,null)),t.isLoading&&r.a.createElement(x.l,{color:"secondary"})))}}]),t}(r.a.Component),Q=v(Object(C.withStyles)(function(e){return{root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},list:{width:250},toolbar:e.mixins.toolbar}})(J)),V=function(e){return{wrapper:Object(j.a)({marginTop:58},e.breakpoints.up("sm"),{marginTop:80})}},X=function(e,t,a){return v(Object(C.withStyles)(V)(function(n){function i(e){var t;return Object(l.a)(this,i),(t=Object(p.a)(this,Object(m.a)(i).call(this))).ready=function(e){t.setState({isReady:e}),t.props.app.loading(!1)},t.setHeadLine=function(e){t.setState({headLine:e})},t.state={isReady:!1,headLine:""},e.app.loading(!0),t}return Object(h.a)(i,n),Object(u.a)(i,[{key:"componentDidMount",value:function(){a&&this.ready(!0),t&&this.setHeadLine(t)}},{key:"render",value:function(){var t=this.props.classes;return r.a.createElement("div",{className:t.wrapper},r.a.createElement(x.x,{component:"h2",variant:"h4",color:"textSecondary",gutterBottom:!0},this.state.headLine),r.a.createElement(x.y,{in:this.state.isReady},r.a.createElement(x.t,{className:t.paper},r.a.createElement(e,{ready:this.ready,setHeadLine:this.setHeadLine,likedArticles:this.props.app.likedArticles,recentArticles:this.props.app.recentArticles,searchTerm:this.props.app.searchTerm,addRecent:this.props.app.addRecent}))))}}]),i}(n.Component)))},$=X(Object(C.withStyles)(function(e){return{logoWrapper:{background:e.palette.primary.main},logo:{maxWidth:"100%",maxHeight:"480px",display:"block",margin:"auto"},content:{padding:e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement(x.i,{container:!0},r.a.createElement(x.i,{item:!0,xs:12,className:t.logoWrapper},r.a.createElement("img",{src:S.a,className:t.logo,alt:"Wiki - Logo"})),r.a.createElement(x.i,{item:!0,xs:12,className:t.content},"About jojo ",r.a.createElement("span",null,"\ud83c\uddfa\ud83c\uddf8 \ud83c\udde9\ud83c\uddea")))}),"About",!0),Y=a(145),Z=a.n(Y),ee=Object(C.withStyles)(function(e){return{toc:{},listIcon:{color:e.palette.grey[500]},heading:{paddingLeft:e.spacing.unit},li:{padding:"".concat(e.spacing.unit/2,"px 0"),background:e.palette.grey[100],"&:nth-child(even)":{background:e.palette.grey[200]}},linkText:{padding:0},linkTextInner:{color:e.palette.secondary.main}}})(function(e){var t=e.toc,a=e.classes,n=t.map(function(e,t){return r.a.createElement(x.n,{key:t,button:!0,component:"a",href:e.href,className:a.li},r.a.createElement(Z.a,{className:a.listIcon}),r.a.createElement(x.q,{className:a.linkText,primary:r.a.createElement(x.x,{variant:"body1",className:a.linkTextInner},e.title)}))});return r.a.createElement("div",{className:a.toc},r.a.createElement(x.x,{component:"h2",variant:"h6",className:a.heading,color:"textSecondary"},"Table of Contents"),r.a.createElement(x.m,{className:a.list},n))}),te=a(63),ae=a.n(te),ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={nid:Number(a.props.nid),liked:!1},a.handleClick=function(){a.props.app.toggleLike(a.state.nid).then(function(e){return a.setState({liked:e})}).catch(function(e){return console.log(e)})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.app.likedArticles.includes(this.state.nid);this.setState({liked:e})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.liked;return r.a.createElement(n.Fragment,null,t?r.a.createElement(x.h,{size:"large","aria-label":"Unlike",color:"default",onClick:this.handleClick,className:e.fab},r.a.createElement(ae.a,null)):r.a.createElement(x.h,{size:"large","aria-label":"Like",color:"secondary",onClick:this.handleClick,className:e.fab},r.a.createElement(q.a,null)))}}]),t}(n.Component),re=Object(C.withStyles)(function(e){return{fab:{position:"fixed",bottom:e.spacing.unit,right:2*e.spacing.unit}}})(v(ne)),ie=a(146),ce=Object(C.withStyles)(function(e){return{button:{margin:e.spacing.unit/2}}})(function(e){var t=e.title,a=e.tid,n=e.classes,i=Object(ie.a)(e,["title","tid","classes"]);return r.a.createElement(x.c,Object.assign({variant:"contained",color:"secondary",className:n.button,component:d.b,size:"small",to:"/tag/".concat(a)},i),t)}),oe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={nid:parseInt(a.props.match.params.nid),article:{nid:null,title:"",body:"",tags:""}},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;O.getArticle(this.state.nid).then(function(t){var a=Object(o.a)({},e.state.article,t[0],function(e){var t=document.createElement("div");t.innerHTML=e;var a=t.getElementsByClassName("table-of-contents")[0];if(a){console.log("### generate table of contents");var n=!!a.classList.contains("alphabetical"),r=!!a.classList.contains("numerals"),i=Object(s.a)(t.getElementsByTagName("h3")).map(function(e,t){return e.id="toc-".concat(t+1),e.innerText=r?"".concat(t+1,". ").concat(e.innerText):e.innerText,e}).map(function(e,t){return{title:e.innerText,href:"#toc-".concat(t+1)}});return i=n?i.sort(function(e,t){var a=e.title.toUpperCase(),n=t.title.toUpperCase();return a<n?-1:a>n?1:0}):i,t.removeChild(a),{body:t.innerHTML,toc:i}}}(t[0].body));e.setState({article:a},function(){e.props.ready(!0),e.props.addRecent(e.state.nid)})})}},{key:"render",value:function(){var e=this.state,t=e.nid,a=e.article,n=k(a.tags).map(function(e){return r.a.createElement(ce,{key:e.tid,title:"#"+e.title,tid:parseInt(e.tid)})});return r.a.createElement("div",{style:{padding:18}},r.a.createElement(re,{nid:t}),r.a.createElement(x.x,{component:"h1",variant:"h4",gutterBottom:!0},a.title),a.toc&&r.a.createElement(ee,{toc:a.toc}),r.a.createElement(x.x,{variant:"body1",dangerouslySetInnerHTML:{__html:a.body}}),n)}}]),t}(n.Component),se=X(Object(g.e)(oe)),le=a(147),ue=a.n(le),pe=a(148),me=a.n(pe),he=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={nid:Number(a.props.nid),anchorEl:null,liked:!1},a.handleClick=function(e){return a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){return a.setState({anchorEl:null})},a.handleLikeClick=function(){a.props.app.toggleLike(a.state.nid).then(function(e){return a.setState({liked:e})}).catch(function(e){return console.log(e)}),a.handleClose()},a.handleShareClick=function(){a.props.app.share(a.state.nid),a.handleClose()},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.app.likedArticles.includes(this.state.nid);this.setState({liked:e})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.anchorEl,i=t.liked,c=Boolean(a),o=i?r.a.createElement(q.a,null):r.a.createElement(ae.a,null),s=i?"Unstar":"Star";return r.a.createElement(n.Fragment,null,r.a.createElement(x.j,{"aria-label":"More","aria-owns":c?"long-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(ue.a,null)),r.a.createElement(x.r,{id:"simple-menu",anchorEl:a,open:c,onClose:this.handleClose},r.a.createElement(x.s,{onClick:this.handleLikeClick,className:e.menuItem},r.a.createElement(x.o,{className:e.icon},o),r.a.createElement(x.q,{classes:{primary:e.primary},inset:!0,primary:s})),r.a.createElement(x.s,{onClick:this.handleShareClick,className:e.menuItem},r.a.createElement(x.o,{className:e.icon},r.a.createElement(me.a,null)),r.a.createElement(x.q,{classes:{primary:e.primary},inset:!0,primary:"Share"}))))}}]),t}(n.Component),de=Object(C.withStyles)(function(e){return{menuItem:{},primary:{},icon:{}}})(v(Object(g.e)(he))),ge=function(e){var t=e.articles.map(function(e,t,a){var i,c=k(e.tags).map(function(e,t,a){return r.a.createElement("small",{key:t}," ","#"+e.title," ")});return r.a.createElement(n.Fragment,{key:e.nid},r.a.createElement(x.n,{button:!0,component:d.b,to:"/article/".concat(e.nid)},r.a.createElement(x.q,{primary:e.title,secondary:r.a.createElement("span",null,(i=e.changed,new Date(1e3*i).toLocaleString()),r.a.createElement("br",null),c)}),r.a.createElement(x.p,null,r.a.createElement(de,{nid:e.nid}))),t!==a.length-1&&r.a.createElement(x.g,null))});return r.a.createElement(x.m,null,t)},fe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[],page:0,loading:!1,noMoreResults:!1},a.nextPage=function(){a.setState({loading:!0});var e={ids:[],page:a.state.page+1};O.getArticles(e).then(function(t){var n=[].concat(Object(s.a)(a.state.articles),Object(s.a)(t));a.setState({articles:n}),a.setState({page:e.page}),0===t.length&&a.setState({noMoreResults:!0}),a.setState({loading:!1})})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={ids:[],page:this.state};O.getArticles(t).then(function(t){e.setState({articles:t}),e.props.ready(!0)})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(ge,{articles:this.state.articles}),this.state.loading&&r.a.createElement("div",{className:e.progress},r.a.createElement(x.d,{color:"secondary"})),!this.state.loading&&!this.state.noMoreResults&&r.a.createElement("div",{className:e.btnWrap},r.a.createElement(x.c,{variant:"contained",color:"secondary",className:e.button,onClick:this.nextPage},"More")))}}]),t}(n.Component),be=X(Object(C.withStyles)(function(e){return{btnWrap:{padding:e.spacing.unit},button:{width:"100%"},progress:{display:"flex",justifyContent:"center",padding:e.spacing.unit}}})(fe)),ye=X(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.likedArticles;0===t.length?this.props.ready(!1):O.getArticles({ids:t}).then(function(t){e.setState({articles:t}),e.props.ready(!0)})}},{key:"componentDidUpdate",value:function(e){var t=this;e!==this.props&&setTimeout(function(){var e=t.state.articles.filter(function(e){return-1!==t.props.likedArticles.indexOf(Number(e.nid))});t.setState({articles:e})},0)}},{key:"render",value:function(){return r.a.createElement(ge,{articles:this.state.articles})}}]),t}(n.Component),"Stars"),ve=X(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.recentArticles;0===t.length?this.props.ready(!1):O.getArticles({ids:t}).then(function(t){e.setState({articles:t}),e.props.ready(!0)})}},{key:"render",value:function(){return r.a.createElement(ge,{articles:this.state.articles})}}]),t}(n.Component),"History"),Ee=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[],loading:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.tid;O.getTags(t).then(function(t){e.props.setHeadLine("#"+t[0].title)}),O.getArticlesByTag(t).then(function(t){e.setState({articles:t},function(){e.props.ready(!0),e.props.addRecent(e.state.nid)})})}},{key:"render",value:function(){return r.a.createElement(ge,{articles:this.state.articles})}}]),t}(n.Component),ke=X(Object(g.e)(Ee)),je=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={tags:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;O.getTags("").then(function(t){e.setState({tags:t}),e.props.ready(!0)})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.tags.map(function(e){return r.a.createElement(ce,{key:e.tid,title:"#"+e.title,tid:parseInt(e.tid)})});return r.a.createElement("div",{className:e.wrapper},t)}}]),t}(n.Component),Oe=X(Object(C.withStyles)(function(e){return{wrapper:{textAlign:"center",padding:e.spacing.unit},button:{margin:e.spacing.unit/2}}})(je),"Tags"),we=X(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[]},a.search=function(){""===a.props.searchTerm?a.props.ready(!1):O.articlesQuery(a.props.searchTerm).then(function(e){a.setState({articles:e}),0===e.length?(a.props.ready(!1),a.props.setHeadLine('no results "'.concat(a.props.searchTerm,'"'))):(a.props.ready(!0),a.props.setHeadLine("search results"))})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.search()}},{key:"componentDidUpdate",value:function(e){var t=this.props;e.searchTerm!==t.searchTerm&&(this.props.ready(!1),this.search())}},{key:"render",value:function(){return r.a.createElement(ge,{articles:this.state.articles})}}]),t}(n.Component)),Se=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,likedArticles:[],recentArticles:[],searchTerm:"",renderSplashscreen:!0},a.loading=function(e){a.setState({isLoading:e})},a.addRecent=function(e){var t=a.state.recentArticles;t.push(e),t=t.filter(function(e,t,a){return a.indexOf(e)===t}),a.setState({recentArticles:t})},a.setSearchTerm=function(e){return a.setState({searchTerm:e})},a.toggleLike=function(e){return new Promise(function(t,n){var r=Number(e);NaN===r&&n(new Error("msg"));var i=a.state.likedArticles,c=i.indexOf(r);c>=0?(i.splice(c,1),a.setState({likedArticles:i},function(){E({key:"likes",value:i}),t(!1)})):(i=[].concat(Object(s.a)(i),[r]),a.setState({likedArticles:i},function(){E({key:"likes",value:i}),t(!0)}))})},a.share=function(e){console.log("share",e)},a.getAppContext=function(){return{app:Object(o.a)({addRecent:a.addRecent,setSearchTerm:a.setSearchTerm,loading:a.loading,toggleLike:a.toggleLike,share:a.share},a.state)}},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("### App mountet, Mode:","production"),setTimeout(function(){e.setState({renderSplashscreen:!1})},500);var t=E({key:"likes"});t&&(t=t.split(",").map(Number),this.setState({likedArticles:t}))}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(d.a,{basename:"/wiki"},r.a.createElement(A,{open:this.state.renderSplashscreen,minLiveTime:3e3}),!this.state.renderSplashscreen&&r.a.createElement(b,{value:this.getAppContext()},r.a.createElement(Q,null),r.a.createElement(x.i,{container:!0,className:e.root},r.a.createElement(x.i,{item:!0,xs:12},r.a.createElement(g.c,null,r.a.createElement(g.a,{exact:!0,path:"/",component:be}),r.a.createElement(g.a,{exact:!0,path:"/tags",component:Oe}),r.a.createElement(g.a,{exact:!0,path:"/likes",component:ye}),r.a.createElement(g.a,{exact:!0,path:"/recent",component:ve}),r.a.createElement(g.a,{exact:!0,path:"/about",component:$}),r.a.createElement(g.a,{path:"/tag/:tid",component:ke}),r.a.createElement(g.a,{path:"/article/:nid",component:se}),r.a.createElement(g.a,{path:"/search",component:we}),r.a.createElement(g.a,{path:"*",component:function(){return"404 NOT FOUND"}}))))))}}]),t}(n.Component),xe=Object(C.withStyles)(function(e){return{root:{maxWidth:800,margin:"auto",padding:e.spacing.unit},"@global":{"code, pre":{background:e.palette.grey[200],padding:3,overflowX:"auto",fontFamily:"source-code-pro, Menlo, Monaco, Consolas, Courier New, monospace"},ul:{paddingLeft:"1.2em"}}}})(Se);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(353);var Ce=a(61),Te=a.n(Ce),Ae=a(44),Ne=Object(C.createMuiTheme)({type:"dark",palette:{primary:{main:"#5300b8"},secondary:{main:Ae.pink.A400},common:{black:"#fff",white:"#000"},background:{paper:Ae.grey[50],default:Ae.grey[400]},text:{}},shape:{borderRadius:3},spacing:{unit:8},typography:{useNextVariants:!0}});c.a.render(r.a.createElement(C.MuiThemeProvider,{theme:Ne},r.a.createElement(Te.a,null),r.a.createElement(xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},52:function(e,t,a){e.exports=a.p+"static/media/logo.21514315.jpg"}},[[218,1,2]]]);
//# sourceMappingURL=main.65482c2a.chunk.js.map