{"version":3,"sources":["img/logo.jpg","components/context.js","js/helper.js","components/SplashScreen.js","components/header/Searchbar.js","components/Header.js","components/Page.js","components/routes/About.js","js/api.js","js/toc.js","components/article/LikeBtn.js","components/routes/Article.js","components/article/ArticleMenu.js","components/article/ArticleListItem.js","components/article/ArticleList.js","components/routes/Home.js","components/routes/Likes.js","components/routes/Recent.js","components/routes/Tag.js","components/routes/Tags.js","components/routes/SearchResult.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","createContext","Provider","Consumer","withContext","Component","props","react_default","a","createElement","value","Object","assign","handleLocalStore","_ref","key","Storage","localStorage","setItem","getItem","stripTags","string","split","map","tag","tid","title","SplashScreen","state","open","canDie","Transition","index_es","direction","_this2","this","minLiveTime","setTimeout","setState","oldProps","newProps","classes","fullScreen","TransitionComponent","transitionDuration","enter","exit","className","paper","src","Logo","logo","alt","progress","color","withStyles","theme","_logo","textAlign","padding","spacing","unit","background","palette","primary","main","maxWidth","defineProperty","breakpoints","up","maxHeight","button","margin","withRouter","search","position","borderRadius","shape","backgroundColor","fade","common","white","&:hover","marginLeft","width","searchIcon","height","pointerEvents","display","alignItems","justifyContent","inputRoot","inputInput","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","&:focus","Search_default","placeholder","onKeyPress","e","console","log","target","history","handleSearch","push","root","input","menu","icon","Home_default","route","Bookmarks_default","Star_default","History_default","AppHeader","drawer","toggleDrawer","_this","handleMenu","event","anchorEl","currentTarget","handleClose","sideList","list","item","ItemIcon","component","Link","to","badgeContent","likedArticles","length","onClose","onOpen","tabIndex","role","onClick","onKeyDown","toolbar","menuButton","aria-label","Menu_default","variant","grow","header_Searchbar","isLoading","React","flexGrow","marginRight","mixins","withPage","WrappedComponent","_Component","Page","_getPrototypeOf2","classCallCheck","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","ready","inherits","createClass","loading","_this$props","nodes","headLine","react","in","gutterBottom","apiUrl","process","GET","requestUrl","cb","response","fetch","then","res","json","data","catch","err","nodeReq","ids","join","searchReq","q","endpoint","termReq","injectToc","node","wrapper","document","innerHTML","toc","getElementsByClassName","alphabetical","classList","contains","numerals","headingNodes","getElementsByTagName","tocLinks","textList","links","i","link","add","setAttribute","innerText","generateTocLinks","nodeList","getText","id","addIds","addNumerals","addHref","sort","b","nameA","toUpperCase","nameB","tocList","listElement","append","generateTocList","addEventListener","preventDefault","getElementById","slice","offset","offsetTop","offsetParent","window","scrollTo","top","behavior","scrollintoView","attributes","href","LikeBtn","liked","checkLike","includes","nid","handleLike","toggleLike","match","path","likeIcon","StarBorder_default","likeText","likeColor","size","fab","bottom","right","Like","article_LikeBtn","Article","setHeadLine","updateNodes","params","body","addRecent","tags","style","dangerouslySetInnerHTML","__html","ArticleMenu","handleClick","handleShare","share","_this$state","Boolean","aria-owns","undefined","aria-haspopup","MoreVert_default","menuItem","inset","Share_default","Menu","article_ArticleMenu","timeStamp","arr","secondary","changed","Date","toLocaleString","ArticleListItem_Menu","articles","article_ArticleListItem","Home","article_ArticleList","Likes","Recent","recentArticles","headline","marginBottom","marginTop","Tag","term","tagReq","TagList","SearchResult","App","user","name","renderSplashscreen","filter","v","indexOf","index","splice","removeNode","getContext","objectSpread","react_router_dom","basename","components_SplashScreen","Header","container","xs","react_router","exact","Tags","About","@global","code, pre","grey","overflowX","fontFamily","ul","location","hostname","createMuiTheme","type","brandSecondary","A400","black","default","text","typography","useNextVariants","ReactDOM","render","core_styles","CssBaseline_default","src_App","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.d9ddc45c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.21514315.jpg\";","import React, { createContext } from 'react';\n\nexport const { Provider, Consumer } = createContext();\n\nexport const withContext = Component => \n    props => <Consumer>\n        {value => <Component {...value} {...props} /> }\n    </Consumer>","// custom helper functions\n\nexport const handleLocalStore = ({ key, value }) => {\n    if (typeof (Storage) === \"undefined\") return;\n\n    if(key && value) localStorage.setItem(key, value);\n    return localStorage.getItem(key);\n}\n\nexport const toLocalDate = (timeStamp) => {\n    const date = new Date(timeStamp * 1000);\n    // const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    // return (`${date.getDate()}. ${months[date.getMonth()]} ${date.getFullYear()}`);\n    return date.toLocaleString()\n} \n\nexport const stripTags = string => {\n    return string.split(', ').map(tag => {\n        return {\n            tid: tag.split(':')[0],\n            title: tag.split(':')[1],\n        }\n    });\n}\n\nexport const orderByTitle = arr => {\n    return arr.sort(function (a, b) {\n        var nameA = a.title.toUpperCase(); // ignore upper and lowercase\n        var nameB = b.title.toUpperCase(); // ignore upper and lowercase\n        if (nameA < nameB) return -1;\n        if (nameA > nameB) return 1;\n        return 0;\n    });\n}","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\nimport Logo from '../img/logo.jpg';\n\nimport { withStyles, Dialog, DialogContent, Slide, LinearProgress, Grid } from '@material-ui/core';\n\n\nconst styles = theme => ({\n    paper: {\n        textAlign: 'center',\n        padding: theme.spacing.unit,\n        background: theme.palette.primary.main,\n    },\n    logo: {\n        maxWidth: '100%',\n        [theme.breakpoints.up('sm')]: {\n            maxHeight: '600px',\n        },\n        [theme.breakpoints.up('lg')]: {\n            maxHeight: '700px',\n        },\n    },\n    progress: {\n        // margin: theme.spacing.unit,\n    },\n    button: {\n        margin: theme.spacing.unit / 2,\n    },\n});\n\n\nclass SplashScreen extends Component {\n    state = {\n        open: true,\n        canDie: false,\n    }\n\n    componentDidMount() {\n        const minLiveTime = (this.props.minLiveTime)? this.props.minLiveTime: 800;\n        // console.log('Splash minLiveTime', minLiveTime);\n        \n        setTimeout(() => {\n            this.setState({ canDie: true });\n        }, minLiveTime);\n    }\n\n    componentDidUpdate(oldProps) {\n        const newProps = this.props\n        if (oldProps.open !== newProps.open) {\n            this.setState({ open: false })\n            // console.log('new props');\n        }\n    }\n\n    Transition = (props) => {\n        return <Slide direction=\"up\" {...props} />;\n    }\n\n    render() {\n        const { classes } = this.props;\n        const open = (!this.state.open && this.state.canDie)? false : true;\n\n        return (\n            <Dialog\n                fullScreen\n                open={open}\n                TransitionComponent={this.Transition}\n                transitionDuration={{ enter: 0, exit: 250 }}>\n\n                <DialogContent className={classes.paper} >\n                    <img src={Logo} className={classes.logo} alt=\"Wiki - Logo\" />\n                    <LinearProgress className={classes.progress} color=\"secondary\" />\n                </DialogContent>\n\n            </Dialog>\n        );\n    }\n}\n\nSplashScreen.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SplashScreen);\n","import React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport { withContext } from '../context';\n\nimport PropTypes from 'prop-types';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\n\nimport { withStyles, InputBase } from '@material-ui/core';\n\nconst styles = theme => ({\n    search: {\n        position: 'relative',\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        '&:hover': {\n            backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginLeft: theme.spacing.unit * 2,\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            marginLeft: theme.spacing.unit,\n            width: 'auto',\n        },\n    },\n    searchIcon: {\n        width: '48px',\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    inputRoot: {\n        color: 'inherit',\n        width: '100%',\n    },\n    inputInput: {\n        paddingTop: theme.spacing.unit,\n        paddingRight: theme.spacing.unit,\n        paddingBottom: theme.spacing.unit,\n        paddingLeft: '50px',\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            width: 120,\n            '&:focus': {\n                width: 200,\n            },\n        }, \n    },\n});\n\nconst Searchbar = (props) => {\n    const { classes } = props;\n\n    const handleEnter = (e) => {\n        console.log('search', e.target.value);\n\n        const { history } = props;\n        if (e.key === 'Enter') {\n            props.handleSearch(e.target.value);\n            e.target.value = '';\n            history.push('/search');\n        }\n    }\n    \n    return (\n        <div className={classes.search}>\n            <div className={classes.searchIcon}>\n                <SearchIcon />\n            </div>\n            <InputBase\n                placeholder=\"Search…\"\n                onKeyPress={handleEnter}\n                classes={{\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                }}\n            />\n        </div>\n    )\n}\n\nSearchbar.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withRouter(withContext(withStyles(styles)(Searchbar)));","import React from 'react';\nimport { withRouter, Link } from \"react-router-dom\";\nimport { withContext } from './context';\n\nimport Searchbar from './header/Searchbar';\n\nimport PropTypes from 'prop-types';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport HomeIcon from '@material-ui/icons/Home';\nimport BookmarksIcon from '@material-ui/icons/Bookmarks';\nimport StarIcon from '@material-ui/icons/Star';\nimport HistoryIcon from '@material-ui/icons/History';\n\nimport {\n  AppBar,\n  Badge,\n  Divider,\n  IconButton,\n  LinearProgress,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  SwipeableDrawer,\n  Toolbar,\n  Typography,\n  withStyles,\n} from '@material-ui/core';\n\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n  list: {\n    width: 250,\n  },\n  toolbar: theme.mixins.toolbar,\n  \n});\n\nconst menu = [{\n  title: 'Home',\n  icon: <HomeIcon />,\n  route: '/'\n}, {\n  title: 'Tags',\n  icon: <BookmarksIcon />,\n  route: '/tags'\n}, {\n  title: 'Likes',\n  icon: <StarIcon />,\n  route: '/likes'\n}, {\n  title: 'Recent',\n  icon: <HistoryIcon />,\n  route: '/recent'\n}, {\n  title: 'About',\n  icon: <HistoryIcon />,\n  route: '/about'\n}];\n\nclass AppHeader extends React.Component {\n  state = {\n    drawer: false,\n  };\n\n  toggleDrawer = (open) => () => {\n    this.setState({ drawer: open });\n  };\n\n  handleMenu = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handleClose = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    // Drawer Menu\n    const sideList = (\n      <List className={classes.list}>\n        {menu.map((item) => {\n          const ItemIcon = item.icon;\n          return (\n            (item.title !== 'Likes') ?\n              <ListItem button key={item.title} component={Link} to={item.route} >\n                <ListItemIcon>\n                  {ItemIcon}\n                </ListItemIcon>\n                <ListItemText primary={item.title} />\n              </ListItem>\n              :\n              <ListItem button key={item.title} component={Link} to={item.route} >\n                <ListItemIcon>\n                  <Badge color=\"secondary\" badgeContent={this.props.likedArticles.length}>\n                    {ItemIcon}\n                  </Badge>\n                </ListItemIcon>\n                <ListItemText primary={item.title} />\n              </ListItem>\n          );\n        })}\n      </List>\n    );\n\n    return (\n      <div>\n\n        <SwipeableDrawer\n          className={classes.drawer}\n          open={this.state.drawer}\n          onClose={this.toggleDrawer(false)}\n          onOpen={this.toggleDrawer(true)} >\n          <div\n            tabIndex={0}\n            role=\"button\"\n            onClick={this.toggleDrawer(false)}\n            onKeyDown={this.toggleDrawer(false)} >\n            <div className={classes.toolbar} />\n            <Divider />\n            {sideList}\n          </div>\n        </SwipeableDrawer>\n\n        <AppBar position=\"static\">\n          <Toolbar>\n            <IconButton\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"Menu\"\n              onClick={this.toggleDrawer(true)}>\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\n              {true &&\n                'WIKI'\n              } \n            </Typography>\n            <Searchbar/>\n          </Toolbar>\n          {this.props.isLoading && <LinearProgress color=\"secondary\" />}\n        </AppBar>\n      </div>\n    );\n  }\n}\n\nAppHeader.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withContext(withStyles(styles)(AppHeader));\n","import React, { Component, Fragment } from 'react';\nimport { Paper, Typography, Zoom } from '@material-ui/core';\nimport { withContext } from './context';\n\n\nexport const withPage = WrappedComponent => {\n    return withContext( class Page extends Component {\n        state = {\n            ready: true,\n        }\n\n        componentDidMount() {\n            // this.props.setHeadLine('HOC');\n            this.props.loading(true);\n        }\n\n        render() {\n            console.log('HOC', this.props);\n            const { isLoading, nodes, headLine } = this.props;\n\n            return(\n                <Fragment>\n\n                    <Typography component=\"h2\" variant=\"h4\" color=\"textSecondary\" >\n                        {headLine}\n                    </Typography>\n\n                    <Zoom in={!isLoading}>\n                        <Paper>\n                            <WrappedComponent {...this.props} />\n                        </Paper>\n                    </Zoom>\n\n                    {!isLoading && nodes.length === 0 &&\n                        <Typography component=\"h1\" variant=\"h4\" color=\"textSecondary\" gutterBottom>\n                            no result ...\n                        </Typography>\n                    }\n\n                </Fragment>\n            );\n        }\n    });\n}","import React from 'react'\nimport { withPage } from '../Page';\n\nconst About = props => {\n    return (\n        <div>\n            About jojo 🇺🇸 🇩🇪\n        </div>\n    )\n}\n\nexport default withPage(About);","\nconst apiUrl = process.env.REACT_APP_API_URL;\nconst delay = (process.env.NODE_ENV === 'development')? 1000 : 0;\n\nconst GET = ({ requestUrl, cb }) => {\n    let response = null;\n\n    setTimeout(() => {\n        fetch(requestUrl)\n            .then(res => {\n                response = res;\n                return res.json();\n            })\n            .then(data => cb(data))\n            .catch(err => {\n                console.log('GET ERROR:', err, response);\n                return cb([]);\n            });\n    }, delay);\n}\n\nexport const nodeReq = (ids, cb) => {\n    const endpoint = `${apiUrl}/api/articles/`;\n    const requestUrl = endpoint + ids.join('+');\n    GET({ requestUrl, cb });\n}\n\nexport const searchReq = (q, cb) => {\n    const endpoint = `${apiUrl}/api/search?_q=`;\n    const requestUrl = endpoint + q;\n    GET({ requestUrl, cb });\n}\n\nexport const tagReq = (id, cb) => {\n    const endpoint = `${apiUrl}/api/tag/`;\n    const requestUrl = endpoint + id;\n    GET({ requestUrl, cb });\n}\n\nexport const termReq = (tid, cb) => {\n    const endpoint = `${apiUrl}/api/term/`;\n    const requestUrl = endpoint + tid;\n    GET({ requestUrl, cb });\n}","// version = 0.2\n// description = generate a table of contents (toc) on page load\n\nexport const injectToc = (node) => {\n\n    let wrapper = document.createElement('div');\n    wrapper.innerHTML = node;\n\n    const toc = wrapper.getElementsByClassName('table-of-contents')[0];\n    if (toc) console.log('### generate table of contents'); else return wrapper.innerHTML;\n\n    // caching\n    const alphabetical = (toc.classList.contains('alphabetical')) ? true : false;\n    const numerals = (toc.classList.contains('numerals')) ? true : false;\n    const headingNodes = wrapper.getElementsByTagName('h3');\n    const headingsList = getText(headingNodes);\n    const tocLinks = generateTocLinks(headingsList);\n\n    addIds(headingNodes);\n    if (numerals) addNumerals(headingNodes);\n\n    addHref(tocLinks);\n    if (alphabetical) orderAlphabetical(tocLinks);\n    // console.dir(tocLinks);\n\n    let tocList = generateTocList(tocLinks);\n    tocList.addEventListener('click', event => {\n            event.preventDefault();\n            var target = ('href' in event.target) ? event.target.attributes.href.value : null;\n            scrollintoView(target);\n            // console.dir(target);\n        });\n\n    toc.innerHTML = '';\n    toc.append(tocList);\n\n    // scroll to top btn\n    // insertToTopBtn(article);\n\n\n    return wrapper.innerHTML;\n}\n\n\nfunction getText(nodeList) {\n    var textList = [];\n    for (var i = 0; i < nodeList.length; i++) {\n        textList.push(nodeList[i].innerText);\n    }\n    return textList;\n}\n\n\nfunction generateTocLinks(textList) {\n    var links = [];\n\n    for (var i = 0; i < textList.length; i++) {\n        var item = textList[i];\n\n        var link = document.createElement('a');\n        link.classList.add('toc-link');\n        link.setAttribute('href', '#toc-' + (i + 1));\n        link.innerText = item;\n\n        links.push(link);\n    }\n    return links;\n}\n\n\nfunction addHref(links) {\n    for (var i = 0; i < links.length; i++) {\n        var link = links[i];\n        link.setAttribute('href', '#toc-' + (i + 1));\n    }\n    return links;\n}\n\n\nfunction generateTocList(nodeList) {\n    var list = document.createElement('ul');\n\n    for (var i = 0; i < nodeList.length; i++) {\n        var item = nodeList[i];\n\n        var listElement = document.createElement('li');\n        listElement.classList.add('toc-item');\n\n        listElement.append(item);\n        list.append(listElement);\n    }\n    return list;\n}\n\n\nfunction orderAlphabetical(nodeList) {\n    var output = nodeList.sort(function (a, b) {\n        var nameA = a.innerText.toUpperCase(); // ignore upper and lowercase\n        var nameB = b.innerText.toUpperCase(); // ignore upper and lowercase\n        if (nameA < nameB) return -1;\n        if (nameA > nameB) return 1;\n        return 0;\n    });\n    // console.log(output);\n    return output;\n}\n\n\nfunction addNumerals(headingNodes) {\n    for (var i = 0; i < headingNodes.length; i++) {\n        headingNodes[i].innerText = (i + 1) + '. ' + headingNodes[i].innerText;\n    }\n}\n\n\nfunction addIds(headingNodes) {\n    for (var i = 0; i < headingNodes.length; i++) {\n        headingNodes[i].id = 'toc-' + (i + 1);\n    }\n}\n\n\nfunction scrollintoView(id) {\n    var target = document.getElementById(id.slice(1, id.length));\n    if (target) {\n        var offset = target.offsetTop + target.offsetParent.offsetTop;\n        window.scrollTo({ top: offset, behavior: 'smooth' });\n    }\n}\n\n\nfunction insertToTopBtn(domNode) {\n    var topBtn = document.createElement('div');\n    topBtn.classList.add('back-to-top-btn', 'btn', 'btn-primary');\n    topBtn.innerText = 'TOP';\n    domNode.appendChild(topBtn);\n\n    topBtn.addEventListener('click', function () {\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n    });\n\n    // console.log('getOffset', getOffset());\n    topBtn.style.left = getOffset();\n\n    var resizeTimer;\n    window.addEventListener('resize', function () {\n        clearTimeout(resizeTimer);\n        resizeTimer = setTimeout(function () {\n            topBtn.style.left = getOffset();\n        }, 250);\n    });\n\n    function getOffset() {\n        var offset = (domNode.offsetLeft + domNode.offsetParent.offsetLeft + domNode.clientWidth - topBtn.clientWidth) + 'px';\n        return offset;\n    }\n}","import React, { Component, Fragment } from 'react';\nimport { withContext } from '../context';\n\nimport PropTypes from 'prop-types';\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\n\nimport {\n    withStyles,\n    Fab,\n} from '@material-ui/core';\n\n\nconst styles = theme => ({\n    fab: {\n        position: 'fixed',\n        bottom: theme.spacing.unit,\n        right: theme.spacing.unit * 2,\n    }\n});\n\n\nclass LikeBtn extends Component {\n    state = {\n        liked: false,\n    }\n\n    componentDidMount() {\n        const liked = this.checkLike();\n        this.setState({ liked });\n        // console.log(this.props);\n    }\n\n    checkLike = () => this.props.likedArticles.includes(this.props.nid);\n\n    handleLike = () => {\n        this.props.toggleLike(this.props.nid, this.props.match.path);\n        \n        const liked = this.checkLike();\n        this.setState({ liked });\n    };\n    \n    render() {\n        const { classes } = this.props;\n        const { liked } = this.state;\n\n        const likeIcon = (liked) ? <StarIcon /> : <StarBorderIcon />;\n        const likeText = (liked) ? \"Unlike\" : \"Like\";\n        const likeColor = (liked) ? \"default\" : \"secondary\";\n\n        return (\n            <Fab size=\"large\" \n                color={likeColor} \n                aria-label={likeText} \n                onClick={this.handleLike}\n                className={classes.fab}>\n                {likeIcon}\n            </Fab>\n        );\n    }\n\n}\n\nLikeBtn.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(withContext(LikeBtn));","import React, { Component, Fragment } from 'react';\nimport { withRouter, Link } from \"react-router-dom\";\nimport { withContext } from '../context';\n\nimport { nodeReq } from '../../js/api';\nimport { toLocalDate, stripTags } from \"../../js/helper\";\nimport { injectToc } from '../../js/toc';\nimport LikeBtn from '../article/LikeBtn';\n\nimport PropTypes from 'prop-types';\nimport { withStyles, Typography, Button } from '@material-ui/core';\nimport { withPage } from '../Page';\n\n\nconst Like = withRouter(props => <LikeBtn {...props} />);\n\nclass Article extends Component {\n\n    componentDidMount() {\n\n        this.props.setHeadLine('');\n        this.props.updateNodes([]);\n\n        nodeReq([this.props.match.params.nid], nodes => {\n\n            const node = nodes[0];\n            node.body = injectToc(node.body);\n\n            this.props.updateNodes(nodes);\n            this.props.addRecent(node.nid);\n\n            this.props.loading(false);\n        });\n    }\n\n    render() {\n        console.log('render');\n        const node = this.props.nodes[0];\n\n        const tags = (node && node.tags) ? stripTags(node.tags).map(tag => {\n            return (\n                <Button\n                    key={tag.tid}\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    component={Link}\n                    to={`/tag/${tag.tid}`}>\n                    {'#' + tag.title}\n                </Button>\n            );\n        }) : null;\n\n        return (\n            <Fragment>\n                {node &&\n                    <div style={{ padding: 18 }}>\n                        <Like nid={node.nid} />\n\n                        <Typography component=\"h1\" variant=\"h4\" gutterBottom>\n                            {node.title}\n                        </Typography>\n\n                        <Typography variant=\"body1\" dangerouslySetInnerHTML={{ __html: node.body }} />\n\n                        {tags}\n                    </div>\n                }\n            </Fragment>\n        );\n    }\n}\n\n\nexport default withContext(withPage(Article));\n","import React, { Component, Fragment } from 'react';\nimport { withContext } from '../context';\n\nimport PropTypes from 'prop-types';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport ShareIcon from '@material-ui/icons/Share';\n\nimport {\n    withStyles,\n    ListItemText,\n    ListItemIcon,\n    Menu,\n    MenuItem,\n    IconButton,\n} from '@material-ui/core';\n\n\nconst styles = theme => ({\n    menuItem: {\n    },\n    primary: {},\n    icon: {},\n});\n\n\nclass ArticleMenu extends Component {\n    state = {\n        anchorEl: null,\n        liked: false,\n    }\n\n    componentDidMount() {\n        const liked = this.checkLike();\n        this.setState({ liked });\n    }\n\n    checkLike = () => this.props.likedArticles.includes(this.props.nid);\n\n    handleClick = event => {\n        this.setState({ anchorEl: event.currentTarget });\n    };\n\n    handleLike = () => {\n        this.props.toggleLike(this.props.nid, this.props.match.path);\n        \n        const liked = this.checkLike();\n        this.setState({ liked });\n        \n        this.handleClose();\n    };\n    \n    handleShare = () => {\n        this.props.share(this.props.nid);\n        this.handleClose();\n    };\n\n    handleClose = () => {\n        this.setState({ anchorEl: null });\n    };\n\n\n    render() {\n        const { classes } = this.props;\n        const { anchorEl, liked } = this.state;\n        const open = Boolean(anchorEl);\n\n        // console.log('like', this.props.likedArticles.includes(this.props.nid) );\n        const likeIcon = (liked) ? <StarIcon /> : <StarBorderIcon />;\n        const likeText = (liked) ? \"Unlike\" : \"Like\";\n\n        return (\n            <Fragment>\n                <IconButton\n                    aria-label=\"More\"\n                    aria-owns={open ? 'long-menu' : undefined}\n                    aria-haspopup=\"true\"\n                    onClick={this.handleClick} >\n                    <MoreIcon />\n                </IconButton>\n                <Menu id=\"simple-menu\" anchorEl={anchorEl} open={open} onClose={this.handleClose} >\n                    <MenuItem onClick={this.handleLike} className={classes.menuItem}>\n                        <ListItemIcon className={classes.icon}>\n                            {likeIcon}\n                        </ListItemIcon>\n                        <ListItemText \n                            classes={{ primary: classes.primary }} inset \n                            primary={likeText} \n                        />\n                    </MenuItem>\n                    <MenuItem onClick={this.handleShare} className={classes.menuItem}>\n                        <ListItemIcon className={classes.icon}>\n                            <ShareIcon />\n                        </ListItemIcon>\n                        <ListItemText classes={{ primary: classes.primary }} inset primary=\"Share\" />\n                    </MenuItem>\n                </Menu>\n            </Fragment>\n        );\n    }\n\n}\n\nArticleMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(withContext(ArticleMenu));","import React from 'react';\nimport { withRouter, Link } from \"react-router-dom\";\n\nimport { toLocalDate, stripTags } from \"./../../js/helper\";\nimport ArticleMenu from './ArticleMenu';\n\nimport PropTypes from 'prop-types';\n\nimport {\n    withStyles,\n    ListItem,\n    ListItemText,\n    ListItemSecondaryAction,\n} from '@material-ui/core';\n\n\nconst styles = theme => ({\n});\n\nconst Menu = withRouter(props => <ArticleMenu {...props} />);\n\nconst ArticleListItem = (props) => {\n\n        const { classes, node } = props;\n\n        const tags = stripTags(node.tags).map((tag, i, arr) => \n                <small key={i}> {'#' + tag.title} </small>\n        );\n\n        return (\n            <ListItem button key={node.nid} component={Link} to={`/article/${node.nid}`} >\n                <ListItemText\n                    primary={node.title}\n                    secondary={<span>{toLocalDate(node.changed)}<br />{tags}</span>}\n                />\n                <ListItemSecondaryAction>\n                    <Menu nid={node.nid} />\n                </ListItemSecondaryAction>\n            </ListItem>\n        );\n}\n\nArticleListItem.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ArticleListItem);","import React, { Fragment } from 'react';\nimport { withContext } from '../context';\n\nimport ArticleListItem from './ArticleListItem';\n\nimport { List, Divider, } from '@material-ui/core';\n\n\nconst ArticleList = (props) => {\n    \n    const articles = props.nodes.map((node, i, arr) => (\n        <Fragment key={i}>\n            <ArticleListItem node={node} />\n            {(i !== arr.length - 1) && <Divider /> }\n        </Fragment>\n        )\n    );\n\n    return (\n        <List>\n            {articles}\n        </List>\n    );\n}\n\nexport default withContext(ArticleList);\n","import React, { Component, Fragment } from 'react';\nimport { nodeReq } from '../../js/api';\nimport ArticleList from '../article/ArticleList';\nimport { withContext } from '../context';\nimport { withPage } from '../Page';\n\n\nclass Home extends Component {\n\n    componentDidMount() {\n        this.props.setHeadLine('');\n        this.props.loading(true);\n        nodeReq([], nodes => {\n            this.props.updateNodes(nodes);\n            this.props.loading(false);\n        });\n    }\n\n    render() {\n        return <ArticleList />\n    }\n}\n\nexport default withContext(withPage(Home));\n","import React, { Component, Fragment } from 'react'\nimport { nodeReq } from '../../js/api';\nimport ArticleList from '../article/ArticleList';\nimport { withContext } from '../context';\nimport { withPage } from '../Page';\n\n\nclass Likes extends Component {\n\n    componentDidMount() {\n        this.props.setHeadLine('Likes');\n\n        if (this.props.likedArticles.length === 0) { // empty array => all nodes\n            this.props.updateNodes([]);\n            return;\n        }\n        \n        this.props.updateNodes([]);\n        this.props.loading(true);\n        nodeReq(this.props.likedArticles, nodes => {\n            this.props.updateNodes(nodes);\n            this.props.loading(false);\n        });\n    }\n\n    render() {\n        return <ArticleList />\n    }\n}\n\nexport default withContext(withPage(Likes));","import React, { Component, Fragment } from 'react'\nimport { nodeReq } from '../../js/api';\nimport ArticleList from '../article/ArticleList';\nimport { withContext } from '../context';\n\nimport PropTypes from 'prop-types';\nimport { withStyles, Typography } from '@material-ui/core';\n\nconst styles = theme => ({\n    headline: {\n        marginBottom: theme.spacing.unit,\n        marginTop: theme.spacing.unit,\n    }\n});\n\nclass Recent extends Component {\n\n    componentDidMount() {\n        this.props.setHeadLine('Recent');\n\n        if (this.props.recentArticles.length === 0) { // empty array => all nodes\n            this.props.updateNodes([]);\n            return;\n        }\n        \n        this.props.updateNodes([]);\n        this.props.loading(true);\n        nodeReq(this.props.recentArticles, nodes => {\n            this.props.updateNodes(nodes);\n            this.props.loading(false);\n        });\n    }\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <Fragment>\n                <Typography\n                    component=\"h2\"\n                    variant=\"h4\"\n                    color=\"textSecondary\"\n                    className={classes.headline} >\n                    {this.props.headLine}\n                </Typography>\n                {!this.props.isLoading && this.props.recentArticles.length > 0 &&\n                    <ArticleList />\n                }\n            </Fragment>\n        );\n    }\n}\n\nRecent.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withContext(withStyles(styles)(Recent));","import React, { Component, Fragment } from 'react';\nimport { withContext } from '../context';\n\nimport { tagReq, termReq } from '../../js/api'\nimport ArticleList from '../article/ArticleList';\nimport { withPage } from '../Page';\n\n\nclass Tag extends Component {\n\n    componentDidMount() {\n        const tid = this.props.match.params.tid;\n\n        this.props.setHeadLine('');\n        termReq(tid, term => this.props.setHeadLine('#' + term[0].title) );\n\n        this.props.loading(true);\n        tagReq(tid, nodes => {\n            this.props.updateNodes(nodes);\n            this.props.loading(false);\n        });\n    }\n\n    render() {\n        return <ArticleList />\n    }\n}\n\nexport default withContext(withPage(Tag));\n","import React, { Component, Fragment } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { withContext } from '../context';\n\nimport { termReq } from '../../js/api'\nimport { orderByTitle } from '../../js/helper';\n\nimport PropTypes from 'prop-types';\nimport { withStyles, Button, Paper, Typography } from '@material-ui/core';\n\n\nconst styles = theme => ({\n  paper: {\n    textAlign: 'center',\n    padding: theme.spacing.unit,\n  },\n  button: {\n    margin: theme.spacing.unit / 2,\n  },\n  headline: {\n    marginBottom: theme.spacing.unit,\n    marginTop: theme.spacing.unit,\n  },\n});\n\nclass TagList extends Component {\n  state = {\n    tags: []\n  };\n  \n  componentDidMount() {\n    this.props.setHeadLine('Tags');\n\n    this.props.loading(true);\n    termReq('', tags => {\n      this.setState({ tags });\n      this.props.loading(false);\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    const tags = this.state.tags.map(tag => {\n      return (\n        <Button \n          key={tag.tid}\n          variant=\"contained\"\n          color=\"secondary\"\n          className={classes.button}\n          component={Link}\n          to={`/tag/${tag.tid}`}>\n          {'#' + tag.title}\n        </Button>\n      );\n    });\n\n    return (\n      <Fragment>\n        <Typography\n          component=\"h2\"\n          variant=\"h4\"\n          color=\"textSecondary\"\n          className={classes.headline} >\n          {this.props.headLine}\n        </Typography>\n        {!this.props.isLoading &&\n          <Paper className={classes.paper}>\n            {tags}\n          </Paper>\n        }\n      </Fragment>\n    );\n  }\n}\n\nTagList.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withContext(withStyles(styles)(TagList));\n","import React, { Component, Fragment } from 'react'\n\nimport { searchReq } from '../../js/api';\nimport ArticleList from '../article/ArticleList';\nimport { withContext } from '../context';\n\nimport PropTypes from 'prop-types';\nimport { withStyles, Typography } from '@material-ui/core';\n\nconst styles = theme => ({\n    headline: {\n        marginBottom: theme.spacing.unit,\n        marginTop: theme.spacing.unit,\n    }\n});\n\nclass SearchResult extends Component {\n\n    componentDidMount() {\n        this.search();\n    }\n\n    componentDidUpdate(oldProps) {\n        const newProps = this.props;\n        if (oldProps.search !== newProps.search) {\n            // this.setState({ open: false })\n            this.search();\n            console.log('new props');\n        }\n    }\n    \n    search = () => {\n        this.props.setHeadLine(`search: ${this.props.search}`);\n        if (this.props.search === '') return; // block empty search\n\n        this.props.loading(true);\n        searchReq(this.props.search, nodes => {\n            this.props.updateNodes(nodes);\n            this.props.loading(false);\n        });\n    }\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <Fragment>\n                <Typography\n                    component=\"h2\"\n                    variant=\"h4\"\n                    color=\"textSecondary\"\n                    className={classes.headline} >\n                    {this.props.headLine}\n                </Typography>\n                {!this.props.isLoading && (this.props.nodes.length > 0) &&\n                    <ArticleList />\n                }\n            </Fragment>\n        )\n    }\n}\n\nSearchResult.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withContext(withStyles(styles)(SearchResult));\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Provider } from './components/context'; \n\nimport { handleLocalStore } from './js/helper';\n\nimport SplashScreen from './components/SplashScreen';\nimport Header from './components/Header';\n\n// routes\nimport About from './components/routes/About';\nimport Article from './components/routes/Article';\nimport Home from './components/routes/Home';\nimport Likes from './components/routes/Likes';\nimport Recent from './components/routes/Recent';\nimport Tag from './components/routes/Tag';\nimport Tags from './components/routes/Tags';\nimport SearchResult from './components/routes/SearchResult';\n\nimport PropTypes from 'prop-types';\nimport { withStyles, Grid } from '@material-ui/core';\n\n\nconst styles = theme => ({\n  root: {\n    maxWidth: 800,\n    margin: 'auto',\n    padding: theme.spacing.unit,\n  },\n  '@global': {\n    'code, pre': {\n      background: theme.palette.grey[200],\n      padding: 3,\n      overflowX: 'auto',\n      fontFamily: 'source-code-pro, Menlo, Monaco, Consolas, Courier New, monospace',\n    },\n    'ul': {\n      paddingLeft: '1.2em',\n    }\n  }\n});\n\n\nclass App extends Component {\n  state = {\n    headLine: '',\n    isLoading: false,\n    user: {\n      id: 0,\n      name: 'Guest',\n    },\n    nodes: [],\n    likedArticles: [],\n    recentArticles: [],\n    search: '',\n    renderSplashscreen: true,\n  }\n\n  componentDidMount() {\n    console.log('### App mountet, Mode:', process.env.NODE_ENV);\n    setTimeout(() => {\n      this.setState({ renderSplashscreen: false });\n    }, 500);\n\n    let likedArticles = handleLocalStore({key: 'likes'});\n    if(likedArticles) {\n      likedArticles = likedArticles.split(',');\n      this.setState({ likedArticles });\n    }\n\n  }\n\n  updateNodes = (nodes) => {\n    this.setState({ nodes });\n  }\n\n  removeNode(nid) {\n    console.log('remove', nid);\n    const nodes = this.state.nodes.filter((node) => {\n      return node.nid !== nid;\n    });\n    this.setState({ nodes });\n  }\n  \n  loading = (isLoading) => {\n    this.setState({ isLoading });\n  }\n\n  addRecent = (nid) => {\n    let recentArticles = this.state.recentArticles;\n    recentArticles.push(nid);\n    recentArticles = recentArticles.filter((v, i, a) => a.indexOf(v) === i);\n    this.setState({ recentArticles });\n  }\n\n  handleSearch = (search) => {\n    // console.log(this.props);\n    this.setState({ search });\n  }\n  \n  setHeadLine = (headLine) => {\n    this.setState({ headLine });\n  }\n  \n  toggleLike = (nid, path) => {\n    let { likedArticles } = this.state;\n    const index = likedArticles.indexOf(nid);\n\n    if (index >= 0) { // unLike\n      likedArticles.splice(index, 1); // remove node from likedArticles\n      if(path === '/likes') this.removeNode(nid); // remove node from view\n    }else { // like\n      likedArticles.push(nid);\n    }\n\n    handleLocalStore({ key: 'likes', value: likedArticles });\n    this.setState({ likedArticles });\n  }\n\n  share = nid => {\n    console.log('share', nid);\n  }\n\n  getContext = () => ({\n    addRecent: this.addRecent,\n    handleSearch: this.handleSearch,\n    loading: this.loading,\n    removeNode: this.removeNode,\n    updateNodes: this.updateNodes,\n    setHeadLine: this.setHeadLine,\n    toggleLike: this.toggleLike,\n    share: this.share,\n    ...this.state,\n  });\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <Router basename={(process.env.NODE_ENV === 'production')? '/wiki' : ''} >\n        <SplashScreen open={this.state.renderSplashscreen} minLiveTime={3000} />\n\n          {!this.state.renderSplashscreen &&\n          <Provider value={this.getContext()}>\n            <Header />\n\n            <Grid container className={classes.root}>\n              <Grid item xs={12}>\n                <Switch>\n                  <Route exact path=\"/\" component={Home} />\n                  <Route exact path=\"/tags\" component={Tags} />\n                  <Route exact path=\"/likes\" component={Likes} />\n                  <Route exact path=\"/recent\" component={Recent} />\n                  <Route exact path=\"/about\" component={About} />\n                  <Route path=\"/tag/:tid\" component={Tag} />\n                  <Route path=\"/article/:nid\" component={Article} />\n                  <Route path=\"/search\" component={SearchResult} />\n                  <Route path=\"*\" component={() => \"404 NOT FOUND\"} />\n                </Switch>\n              </Grid>\n            </Grid>\n          </Provider>\n          }\n\n        </Router>\n    );\n  }\n}\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'typeface-roboto';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { deepPurple as brandPrimary, pink as brandSecondary, grey } from '@material-ui/core/colors';\n\nconst theme = createMuiTheme({\n    type: \"dark\",\n    palette: {\n        primary: {\n            // main: brandPrimary[900],\n            main: '#5300b8',\n        },\n        secondary: {\n            // light: '#0066ff',\n            main: brandSecondary.A400,\n            // dark: will be calculated from palette.secondary.main,\n            // contrastText: brandPrimary[900],\n        },\n        common: {\n            black: \"#fff\",\n            white: \"#000\",\n        },\n        background: {\n            paper: grey[50],\n            default: grey[400],\n        },\n        text: {\n            // disabled: \"rgba(255,255,255, 0.38)\",\n            // hint: \"rgba(255,255,255, 0.38)\",\n            // primary: \"rgba(255,255,255, 0.87)\",\n            // secondary: \"rgba(255,255,255, 0.54)\",\n        },\n        // contrastThreshold: 3,\n        // tonalOffset: 0.2,\n    },\n    shape: {\n        borderRadius: 3,\n    },\n    spacing: {\n        unit: 8,\n    },\n    typography: {\n        useNextVariants: true,\n    },\n});\n\n// console.log(theme);\n\nReactDOM.render(\n    <MuiThemeProvider theme={theme}>\n        <CssBaseline />\n        <App />\n    </MuiThemeProvider>, document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}