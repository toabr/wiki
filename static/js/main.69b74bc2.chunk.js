(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{217:function(e,t,n){e.exports=n(369)},369:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(24),c=n.n(i),o=n(135),s=n(147),l=n(10),u=n(11),p=n(13),m=n(12),h=n(14),d=n(22),f=n(35),g=Object(a.createContext)(),b=g.Provider,v=g.Consumer,y=function(e){return function(t){return r.a.createElement(v,null,function(n){return r.a.createElement(e,Object.assign({},n,t))})}},k=function(e){var t=e.key,n=e.value;if("undefined"!==typeof Storage)return t&&n&&localStorage.setItem(t,n),localStorage.getItem(t)},E=function(e){return e.split(", ").map(function(e){return{tid:e.split(":")[0],title:e.split(":")[1]}})},O=n(30),j="https://api.toabr.de",w=function(e,t){var n=null;setTimeout(function(){fetch(e).then(function(e){return n=e,e.json()}).then(function(e){return t(e)}).catch(function(e){return console.log("GET ERROR:",e,n),t([])})},0)},S=function(e,t){var n=e.ids,a=e.page,r="".concat(j,"/api/articles/"),i=n.length>0?n.join("+"):"",c=a>0?"?page=".concat(a):"";w(r+i+c,t)},x=function(e,t){var n="".concat(j,"/api/term/");w(n+e,t)},L=function(e,t){var n="".concat(j,"/api/search?_q=");w(n+e,t)},C=n(51),A=n.n(C),N=n(2),T=n(25),M=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={open:!0,canDie:!1,logoReady:!1},n.Transition=function(e){return r.a.createElement(N.u,Object.assign({direction:"up"},e))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props.minLiveTime?this.props.minLiveTime:800;(e=A.a,new Promise(function(t,n){var a=new Image;a.onload=function(){return t(a)},a.onerror=function(){return n(new Error("Could not load image at "+e))},a.src=e})).then(function(e){console.log("logo ready",e),t.setState({logoReady:!0}),setTimeout(function(){t.setState({canDie:!0})},n)})}},{key:"componentDidUpdate",value:function(e){var t=this.props;e.open!==t.open&&this.setState({open:!1})}},{key:"render",value:function(){var e=this.props.classes,t=!(!this.state.open&&this.state.canDie);return r.a.createElement(N.e,{fullScreen:!0,open:t,TransitionComponent:this.Transition,transitionDuration:{enter:0,exit:250}},r.a.createElement(N.f,{className:e.paper},r.a.createElement(N.y,{in:this.state.logoReady},r.a.createElement("img",{src:A.a,className:e.logo,alt:"Wiki - Logo"})),r.a.createElement(N.l,{className:e.progress,color:"secondary"})))}}]),t}(a.Component),D=Object(T.withStyles)(function(e){var t;return{paper:{textAlign:"center",padding:e.spacing.unit,background:e.palette.primary.main},logo:(t={maxWidth:"100%"},Object(O.a)(t,e.breakpoints.up("sm"),{maxHeight:"600px"}),Object(O.a)(t,e.breakpoints.up("lg"),{maxHeight:"700px"}),t),progress:{},button:{margin:e.spacing.unit/2}}})(M),R=n(137),I=n.n(R),H=n(32),B=Object(f.e)(y(Object(T.withStyles)(function(e){return{search:Object(O.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(H.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(H.fade)(e.palette.common.white,.25)},marginLeft:2*e.spacing.unit,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:"48px",height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(O.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:"50px",transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(I.a,null)),r.a.createElement(N.k,{placeholder:"Search\u2026",onKeyPress:function(t){"Enter"===t.key&&(e.app.handleSearch(t.target.value),t.target.value="",e.history.push("/search"))},classes:{root:t.inputRoot,input:t.inputInput}}))}))),P=n(143),W=n.n(P),U=n(139),F=n.n(U),q=n(140),J=n.n(q),z=n(42),G=n.n(z),K=n(141),_=n.n(K),V=n(142),X=n.n(V),$=[{title:"Home",icon:r.a.createElement(F.a,null),route:"/"},{title:"Tags",icon:r.a.createElement(J.a,null),route:"/tags"},{title:"Likes",icon:r.a.createElement(G.a,null),route:"/likes"},{title:"Recent",icon:r.a.createElement(_.a,null),route:"/recent"},{title:"About",icon:r.a.createElement(X.a,null),route:"/about"}],Q=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={drawer:!1},n.toggleDrawer=function(e){return function(){n.setState({drawer:e})}},n.handleMenu=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.app,n=r.a.createElement(N.m,{className:e.list},$.map(function(e){var n=e.icon;return"Likes"!==e.title?r.a.createElement(N.n,{button:!0,key:e.title,component:d.b,to:e.route},r.a.createElement(N.o,null,n),r.a.createElement(N.q,{primary:e.title})):r.a.createElement(N.n,{button:!0,key:e.title,component:d.b,to:e.route},r.a.createElement(N.o,null,r.a.createElement(N.b,{color:"secondary",badgeContent:t.likedArticles.length},n)),r.a.createElement(N.q,{primary:e.title}))}));return r.a.createElement("div",null,r.a.createElement(N.v,{className:e.drawer,open:this.state.drawer,onClose:this.toggleDrawer(!1),onOpen:this.toggleDrawer(!0)},r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer(!1),onKeyDown:this.toggleDrawer(!1)},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(N.g,null),n)),r.a.createElement(N.a,{position:"fixed"},r.a.createElement(N.w,null,r.a.createElement(N.j,{className:e.menuButton,color:"inherit","aria-label":"Menu",onClick:this.toggleDrawer(!0)},r.a.createElement(W.a,null)),r.a.createElement(N.x,{variant:"h6",color:"inherit",className:e.grow},"WIKI"),r.a.createElement(B,null)),t.isLoading&&r.a.createElement(N.l,{color:"secondary"})))}}]),t}(r.a.Component),Y=y(Object(T.withStyles)(function(e){return{root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},list:{width:250},toolbar:e.mixins.toolbar}})(Q)),Z=function(e){return{wrapper:Object(O.a)({marginTop:58},e.breakpoints.up("sm"),{marginTop:80})}},ee=function(e,t,n){return y(Object(T.withStyles)(Z)(function(a){function i(e){var t;return Object(l.a)(this,i),(t=Object(p.a)(this,Object(m.a)(i).call(this))).ready=function(e){t.setState({isReady:e}),t.props.app.loading(!1)},t.setHeadLine=function(e){t.setState({headLine:e})},t.state={isReady:!1,headLine:""},e.app.loading(!0),t}return Object(h.a)(i,a),Object(u.a)(i,[{key:"componentDidMount",value:function(){n&&this.ready(!0),t&&this.setHeadLine(t)}},{key:"render",value:function(){var t=this.props.classes;return r.a.createElement("div",{className:t.wrapper},r.a.createElement(N.x,{component:"h2",variant:"h4",color:"textSecondary",gutterBottom:!0},this.state.headLine),r.a.createElement(N.y,{in:this.state.isReady},r.a.createElement(N.t,{className:t.paper},r.a.createElement(e,{ready:this.ready,setHeadLine:this.setHeadLine,likedArticles:this.props.app.likedArticles,recentArticles:this.props.app.recentArticles,searchTerm:this.props.app.searchTerm,addRecent:this.props.app.addRecent}))))}}]),i}(a.Component)))},te=ee(Object(T.withStyles)(function(e){return{logoWrapper:{background:e.palette.primary.main},logo:{maxWidth:"100%",maxHeight:"480px",display:"block",margin:"auto"},content:{padding:e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement(N.i,{container:!0},r.a.createElement(N.i,{item:!0,xs:12,className:t.logoWrapper},r.a.createElement("img",{src:A.a,className:t.logo,alt:"Wiki - Logo"})),r.a.createElement(N.i,{item:!0,xs:12,className:t.content},"About jojo ",r.a.createElement("span",null,"\ud83c\uddfa\ud83c\uddf8 \ud83c\udde9\ud83c\uddea")))}),"About",!0),ne=function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.getElementsByClassName("table-of-contents")[0];if(!n)return t.innerHTML;console.log("### generate table of contents");var a=!!n.classList.contains("alphabetical"),r=!!n.classList.contains("numerals"),i=t.getElementsByTagName("h3"),c=function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n],r=document.createElement("a");r.classList.add("toc-link"),r.setAttribute("href","#toc-"+(n+1)),r.innerText=a,t.push(r)}return t}(function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].innerText);return t}(i));!function(e){for(var t=0;t<e.length;t++)e[t].id="toc-"+(t+1)}(i),r&&function(e){for(var t=0;t<e.length;t++)e[t].innerText=t+1+". "+e[t].innerText}(i),function(e){for(var t=0;t<e.length;t++){var n=e[t];n.setAttribute("href","#toc-"+(t+1))}}(c),a&&c.sort(function(e,t){var n=e.innerText.toUpperCase(),a=t.innerText.toUpperCase();return n<a?-1:n>a?1:0});var o=function(e){for(var t=document.createElement("ul"),n=0;n<e.length;n++){var a=e[n],r=document.createElement("li");r.classList.add("toc-item"),r.append(a),t.append(r)}return t}(c);return o.addEventListener("click",function(e){e.preventDefault(),function(e){var t=document.getElementById(e.slice(1,e.length));if(t){var n=t.offsetTop+t.offsetParent.offsetTop;window.scrollTo({top:n,behavior:"smooth"})}}("href"in e.target?e.target.attributes.href.value:null)}),n.innerHTML="",n.append(o),t.innerHTML};var ae=n(61),re=n.n(ae),ie=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={nid:Number(n.props.nid),liked:!1},n.handleClick=function(){n.props.app.toggleLike(n.state.nid).then(function(e){return n.setState({liked:e})}).catch(function(e){return console.log(e)})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({liked:this.props.app.checkLike(this.state.nid)})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.liked;return r.a.createElement(a.Fragment,null,t?r.a.createElement(N.h,{size:"large","aria-label":"Unlike",color:"default",onClick:this.handleClick,className:e.fab},r.a.createElement(re.a,null)):r.a.createElement(N.h,{size:"large","aria-label":"Like",color:"secondary",onClick:this.handleClick,className:e.fab},r.a.createElement(G.a,null)))}}]),t}(a.Component),ce=Object(T.withStyles)(function(e){return{fab:{position:"fixed",bottom:e.spacing.unit,right:2*e.spacing.unit}}})(y(ie)),oe=n(144),se=Object(T.withStyles)(function(e){return{button:{margin:e.spacing.unit/2}}})(function(e){var t=e.title,n=e.tid,a=e.classes,i=Object(oe.a)(e,["title","tid","classes"]);return r.a.createElement(N.c,Object.assign({variant:"contained",color:"secondary",className:a.button,component:d.b,size:"small",to:"/tag/".concat(n)},i),t)}),le=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={nid:parseInt(n.props.match.params.nid),article:{nid:null,title:"",body:"",tags:""}},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;!function(e,t){var n="".concat(j,"/api/articles/");w(n+e,function(e){return t(e[0])})}(this.state.nid,function(t){t.body=ne(t.body),e.setState({article:t},function(){e.props.ready(!0),e.props.addRecent(e.state.nid)})})}},{key:"render",value:function(){var e=this.state,t=e.nid,n=e.article,i=E(n.tags).map(function(e){return r.a.createElement(se,{key:e.tid,title:"#"+e.title,tid:parseInt(e.tid)})});return r.a.createElement(a.Fragment,null,r.a.createElement("div",{style:{padding:18}},r.a.createElement(ce,{nid:t}),r.a.createElement(N.x,{component:"h1",variant:"h4",gutterBottom:!0},n.title),r.a.createElement(N.x,{variant:"body1",dangerouslySetInnerHTML:{__html:n.body}}),i))}}]),t}(a.Component),ue=ee(Object(f.e)(le)),pe=n(145),me=n.n(pe),he=n(146),de=n.n(he),fe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={nid:Number(n.props.nid),anchorEl:null,liked:!1},n.handleClick=function(e){return n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){return n.setState({anchorEl:null})},n.handleLikeClick=function(){n.props.app.toggleLike(n.state.nid).then(function(e){return n.setState({liked:e})}).catch(function(e){return console.log(e)}),n.handleClose()},n.handleShareClick=function(){n.props.app.share(n.state.nid),n.handleClose()},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({liked:this.props.app.checkLike(this.state.nid)})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.anchorEl,i=t.liked,c=Boolean(n),o=i?r.a.createElement(G.a,null):r.a.createElement(re.a,null),s=i?"Unlike":"Like";return r.a.createElement(a.Fragment,null,r.a.createElement(N.j,{"aria-label":"More","aria-owns":c?"long-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(me.a,null)),r.a.createElement(N.r,{id:"simple-menu",anchorEl:n,open:c,onClose:this.handleClose},r.a.createElement(N.s,{onClick:this.handleLikeClick,className:e.menuItem},r.a.createElement(N.o,{className:e.icon},o),r.a.createElement(N.q,{classes:{primary:e.primary},inset:!0,primary:s})),r.a.createElement(N.s,{onClick:this.handleShareClick,className:e.menuItem},r.a.createElement(N.o,{className:e.icon},r.a.createElement(de.a,null)),r.a.createElement(N.q,{classes:{primary:e.primary},inset:!0,primary:"Share"}))))}}]),t}(a.Component),ge=Object(T.withStyles)(function(e){return{menuItem:{},primary:{},icon:{}}})(y(Object(f.e)(fe))),be=function(e){var t=e.articles.map(function(e,t,n){var i,c=E(e.tags).map(function(e,t,n){return r.a.createElement("small",{key:t}," ","#"+e.title," ")});return r.a.createElement(a.Fragment,{key:e.nid},r.a.createElement(N.n,{button:!0,component:d.b,to:"/article/".concat(e.nid)},r.a.createElement(N.q,{primary:e.title,secondary:r.a.createElement("span",null,(i=e.changed,new Date(1e3*i).toLocaleString()),r.a.createElement("br",null),c)}),r.a.createElement(N.p,null,r.a.createElement(ge,{nid:e.nid}))),t!==n.length-1&&r.a.createElement(N.g,null))});return r.a.createElement(N.m,null,t)},ve=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[],page:0,loading:!1,noMoreResults:!1},n.getPage=function(e){S({ids:[],page:n.state.page},function(t){t.length>0?n.pushArticles(t):n.setState({noMoreResults:!0}),e()})},n.pushArticles=function(e){for(var t=n.state.articles,a=0;a<e.length;a++){var r=e[a];t.push(r)}n.setState({articles:t})},n.nextPage=function(){n.state.noMoreResults||(n.setState({loading:!0}),n.setState({page:n.state.page+1},function(){n.getPage(function(){n.setState({loading:!1})})}))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getPage(function(){e.props.ready(!0)})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(a.Fragment,null,r.a.createElement(be,{articles:this.state.articles}),this.state.loading&&r.a.createElement("div",{className:e.progress},r.a.createElement(N.d,{color:"secondary"})),!this.state.noMoreResults&&r.a.createElement(N.c,{variant:"contained",color:"secondary",className:e.button,onClick:this.nextPage},"More"))}}]),t}(a.Component),ye=ee(Object(T.withStyles)(function(e){return{button:{width:"100%"},progress:{display:"flex",justifyContent:"center"}}})(ve)),ke=ee(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={likedArticles:[],articles:[]},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setLikedArticles(this.props.likedArticles,function(){var t=e.state.likedArticles;0===t.length?e.props.ready(!1):S({ids:t},function(t){e.setState({articles:t}),e.props.ready(!0)})})}},{key:"componentDidUpdate",value:function(){var e=this.props.likedArticles,t=this.state.likedArticles;if(e.length!==t.length){var n=this.state.articles.filter(function(t){return-1!==e.indexOf(Number(t.nid))});console.log("remove %i from %o",t.filter(function(t){return-1===e.indexOf(Number(t))})[0],t),this.setState({articles:n}),this.setLikedArticles(e),0===e.length&&this.props.ready(!1)}}},{key:"setLikedArticles",value:function(e,t){var n=JSON.parse(JSON.stringify(e));this.setState({likedArticles:n},t)}},{key:"render",value:function(){return r.a.createElement(be,{articles:this.state.articles})}}]),t}(a.Component),"Likes"),Ee=ee(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[]},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;0!==this.props.recentArticles.length?S({ids:this.props.recentArticles},function(t){e.setState({articles:t}),e.props.ready(!0)}):this.props.ready(!1)}},{key:"render",value:function(){return r.a.createElement(be,{articles:this.state.articles})}}]),t}(a.Component),"history"),Oe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[],loading:!1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.tid;x(t,function(t){return e.props.setHeadLine("#"+t[0].title)}),function(e,t){var n="".concat(j,"/api/tag/");w(n+e,t)}(t,function(t){e.setState({articles:t}),e.props.ready(!0)})}},{key:"render",value:function(){return r.a.createElement(be,{articles:this.state.articles})}}]),t}(a.Component),je=ee(Object(f.e)(Oe)),we=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={tags:[]},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;x("",function(t){e.setState({tags:t}),e.props.ready(!0)})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.tags.map(function(e){return r.a.createElement(se,{key:e.tid,title:"#"+e.title,tid:parseInt(e.tid)})});return r.a.createElement("div",{className:e.wrapper},t)}}]),t}(a.Component),Se=ee(Object(T.withStyles)(function(e){return{wrapper:{textAlign:"center",padding:e.spacing.unit},button:{margin:e.spacing.unit/2}}})(we),"Tags"),xe=ee(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[]},n.search=function(){""!==n.props.searchTerm?L(n.props.searchTerm,function(e){n.setState({articles:e}),0===e.length?(n.props.ready(!1),n.props.setHeadLine('no results "'.concat(n.props.searchTerm,'"'))):(n.props.ready(!0),n.props.setHeadLine("search results"))}):n.props.ready(!1)},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.search()}},{key:"componentDidUpdate",value:function(e){var t=this.props;e.searchTerm!==t.searchTerm&&(this.props.ready(!1),this.search())}},{key:"render",value:function(){return r.a.createElement(be,{articles:this.state.articles})}}]),t}(a.Component)),Le=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,likedArticles:[],recentArticles:[],searchTerm:"",renderSplashscreen:!0},n.loading=function(e){n.setState({isLoading:e})},n.addRecent=function(e){var t=n.state.recentArticles;t.push(e),t=t.filter(function(e,t,n){return n.indexOf(e)===t}),n.setState({recentArticles:t})},n.handleSearch=function(e){console.log("search",n.props),n.setState({searchTerm:e})},n.checkLike=function(e){return n.state.likedArticles.includes(e)},n.toggleLike=function(e){return new Promise(function(t,a){var r=Number(e);NaN===r&&a(new Error("msg"));var i=n.state.likedArticles,c=i.indexOf(r);c>=0?(i.splice(c,1),n.setState({likedArticles:i},function(){k({key:"likes",value:i}),t(!1)})):(i=[].concat(Object(s.a)(i),[r]),n.setState({likedArticles:i},function(){k({key:"likes",value:i}),t(!0)}))})},n.share=function(e){console.log("share",e)},n.getAppContext=function(){return{app:Object(o.a)({addRecent:n.addRecent,handleSearch:n.handleSearch,loading:n.loading,removeNode:n.removeNode,toggleLike:n.toggleLike,checkLike:n.checkLike,share:n.share},n.state)}},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("### App mountet, Mode:","production"),setTimeout(function(){e.setState({renderSplashscreen:!1})},500);var t=k({key:"likes"});t&&(t=t.split(",").map(Number),console.log("likedArticles",t),this.setState({likedArticles:t}))}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(d.a,{basename:"/wiki"},r.a.createElement(D,{open:this.state.renderSplashscreen,minLiveTime:3e3}),!this.state.renderSplashscreen&&r.a.createElement(b,{value:this.getAppContext()},r.a.createElement(Y,null),r.a.createElement(N.i,{container:!0,className:e.root},r.a.createElement(N.i,{item:!0,xs:12},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",component:ye}),r.a.createElement(f.a,{exact:!0,path:"/tags",component:Se}),r.a.createElement(f.a,{exact:!0,path:"/likes",component:ke}),r.a.createElement(f.a,{exact:!0,path:"/recent",component:Ee}),r.a.createElement(f.a,{exact:!0,path:"/about",component:te}),r.a.createElement(f.a,{path:"/tag/:tid",component:je}),r.a.createElement(f.a,{path:"/article/:nid",component:ue}),r.a.createElement(f.a,{path:"/search",component:xe}),r.a.createElement(f.a,{path:"*",component:function(){return"404 NOT FOUND"}}))))))}}]),t}(a.Component),Ce=Object(T.withStyles)(function(e){return{root:{maxWidth:800,margin:"auto",padding:e.spacing.unit},"@global":{"code, pre":{background:e.palette.grey[200],padding:3,overflowX:"auto",fontFamily:"source-code-pro, Menlo, Monaco, Consolas, Courier New, monospace"},ul:{paddingLeft:"1.2em"}}}})(Le);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(352);var Ae=n(60),Ne=n.n(Ae),Te=n(43),Me=Object(T.createMuiTheme)({type:"dark",palette:{primary:{main:"#5300b8"},secondary:{main:Te.pink.A400},common:{black:"#fff",white:"#000"},background:{paper:Te.grey[50],default:Te.grey[400]},text:{}},shape:{borderRadius:3},spacing:{unit:8},typography:{useNextVariants:!0}});c.a.render(r.a.createElement(T.MuiThemeProvider,{theme:Me},r.a.createElement(Ne.a,null),r.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},51:function(e,t,n){e.exports=n.p+"static/media/logo.21514315.jpg"}},[[217,1,2]]]);
//# sourceMappingURL=main.69b74bc2.chunk.js.map