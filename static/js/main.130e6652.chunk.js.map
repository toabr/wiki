{"version":3,"sources":["img/logo.jpg","components/context.js","js/helper.js","components/SplashScreen.js","components/header/Searchbar.js","components/Header.js","components/Page.js","components/routes/About.js","js/api.js","js/toc.js","components/article/LikeBtn.js","components/routes/Article.js","components/article/ArticleMenu.js","components/article/ArticleList.js","components/routes/Home.js","components/routes/Likes.js","components/routes/Recent.js","components/routes/ArticlesByTag.js","components/routes/Tags.js","components/routes/SearchResult.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","createContext","Provider","Consumer","withContext","Component","props","react_default","a","createElement","value","Object","assign","handleLocalStore","_ref","key","Storage","localStorage","setItem","getItem","stripTags","string","split","map","tag","tid","title","SplashScreen","state","open","canDie","Transition","index_es","direction","_this2","this","minLiveTime","setTimeout","setState","oldProps","newProps","classes","fullScreen","TransitionComponent","transitionDuration","enter","exit","className","paper","src","Logo","logo","alt","progress","color","withStyles","theme","_logo","textAlign","padding","spacing","unit","background","palette","primary","main","maxWidth","defineProperty","breakpoints","up","maxHeight","button","margin","withRouter","search","position","borderRadius","shape","backgroundColor","fade","common","white","&:hover","marginLeft","width","searchIcon","height","pointerEvents","display","alignItems","justifyContent","inputRoot","inputInput","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","&:focus","Search_default","placeholder","onKeyPress","e","console","log","target","history","handleSearch","push","root","input","menu","icon","Home_default","route","Bookmarks_default","Star_default","History_default","Info_default","AppHeader","drawer","toggleDrawer","_this","handleMenu","event","anchorEl","currentTarget","handleClose","app","sideList","list","item","ItemIcon","component","Link","to","badgeContent","likedArticles","length","onClose","onOpen","tabIndex","role","onClick","onKeyDown","toolbar","menuButton","aria-label","Menu_default","variant","grow","header_Searchbar","isLoading","React","flexGrow","marginRight","mixins","withPage","WrappedComponent","headLine","isReady","_Component","Page","_getPrototypeOf2","classCallCheck","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","ready","loading","setHeadLine","inherits","createClass","react","in","recentArticles","addRecent","apiUrl","process","GET","requestUrl","cb","response","fetch","then","res","json","data","catch","err","getArticles","_ref2","ids","page","endpoint","reqIds","join","reqPage","getTags","searchReq","q","injectToc","node","wrapper","document","innerHTML","toc","getElementsByClassName","alphabetical","classList","contains","numerals","headingNodes","getElementsByTagName","tocLinks","textList","links","i","link","add","setAttribute","innerText","generateTocLinks","nodeList","getText","id","addIds","addNumerals","addHref","sort","b","nameA","toUpperCase","nameB","tocList","listElement","append","generateTocList","addEventListener","preventDefault","getElementById","slice","offset","offsetTop","offsetParent","window","scrollTo","top","behavior","scrollintoView","attributes","href","LikeBtn","liked","checkLike","includes","nid","handleLike","toggleLike","match","path","likeIcon","StarBorder_default","likeText","likeColor","size","fab","bottom","right","Article","article_LikeBtn","article","body","tags","getArticle","params","style","gutterBottom","dangerouslySetInnerHTML","__html","ArticleMenu","handleClick","handleShare","share","_this$state","Boolean","aria-owns","undefined","aria-haspopup","MoreVert_default","menuItem","inset","Share_default","ArticleList","articles","arr","timeStamp","secondary","changed","Date","toLocaleString","article_ArticleMenu","Home","noMoreResults","getPage","fetchedArticles","pushArticles","newArticles","nextPage","article_ArticleList","ArticlesByTag","getArticlesByTag","TagList","SearchResult","nodes","updateNodes","headline","marginBottom","marginTop","App","renderSplashscreen","filter","v","indexOf","index","splice","removeNode","getAppContext","objectSpread","react_router_dom","basename","components_SplashScreen","Header","container","xs","react_router","exact","Tags","Likes","Recent","About","@global","code, pre","grey","overflowX","fontFamily","ul","location","hostname","createMuiTheme","type","brandSecondary","A400","black","default","text","typography","useNextVariants","ReactDOM","render","core_styles","CssBaseline_default","src_App","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.130e6652.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.21514315.jpg\";","import React, { createContext } from 'react';\n\nexport const { Provider, Consumer } = createContext();\n\nexport const withContext = Component => \n    props => <Consumer>\n        {value => <Component {...value} {...props} /> }\n    </Consumer>","// custom helper functions\n\nexport const handleLocalStore = ({ key, value }) => {\n    if (typeof (Storage) === \"undefined\") return;\n\n    if(key && value) localStorage.setItem(key, value);\n    return localStorage.getItem(key);\n}\n\nexport const toLocalDate = (timeStamp) => {\n    const date = new Date(timeStamp * 1000);\n    // const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    // return (`${date.getDate()}. ${months[date.getMonth()]} ${date.getFullYear()}`);\n    return date.toLocaleString()\n} \n\nexport const stripTags = string => {\n    return string.split(', ').map(tag => {\n        return {\n            tid: tag.split(':')[0],\n            title: tag.split(':')[1],\n        }\n    });\n}\n\nexport const orderByTitle = arr => {\n    return arr.sort(function (a, b) {\n        var nameA = a.title.toUpperCase(); // ignore upper and lowercase\n        var nameB = b.title.toUpperCase(); // ignore upper and lowercase\n        if (nameA < nameB) return -1;\n        if (nameA > nameB) return 1;\n        return 0;\n    });\n}","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\nimport Logo from '../img/logo.jpg';\n\nimport { withStyles, Dialog, DialogContent, Slide, LinearProgress, Grid } from '@material-ui/core';\n\n\nconst styles = theme => ({\n    paper: {\n        textAlign: 'center',\n        padding: theme.spacing.unit,\n        background: theme.palette.primary.main,\n    },\n    logo: {\n        maxWidth: '100%',\n        [theme.breakpoints.up('sm')]: {\n            maxHeight: '600px',\n        },\n        [theme.breakpoints.up('lg')]: {\n            maxHeight: '700px',\n        },\n    },\n    progress: {\n        // margin: theme.spacing.unit,\n    },\n    button: {\n        margin: theme.spacing.unit / 2,\n    },\n});\n\n\nclass SplashScreen extends Component {\n    state = {\n        open: true,\n        canDie: false,\n    }\n\n    componentDidMount() {\n        const minLiveTime = (this.props.minLiveTime)? this.props.minLiveTime: 800;\n        // console.log('Splash minLiveTime', minLiveTime);\n        \n        setTimeout(() => {\n            this.setState({ canDie: true });\n        }, minLiveTime);\n    }\n\n    componentDidUpdate(oldProps) {\n        const newProps = this.props\n        if (oldProps.open !== newProps.open) {\n            this.setState({ open: false })\n            // console.log('new props');\n        }\n    }\n\n    Transition = (props) => {\n        return <Slide direction=\"up\" {...props} />;\n    }\n\n    render() {\n        const { classes } = this.props;\n        const open = (!this.state.open && this.state.canDie)? false : true;\n\n        return (\n            <Dialog\n                fullScreen\n                open={open}\n                TransitionComponent={this.Transition}\n                transitionDuration={{ enter: 0, exit: 250 }}>\n\n                <DialogContent className={classes.paper} >\n                    <img src={Logo} className={classes.logo} alt=\"Wiki - Logo\" />\n                    <LinearProgress className={classes.progress} color=\"secondary\" />\n                </DialogContent>\n\n            </Dialog>\n        );\n    }\n}\n\nSplashScreen.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SplashScreen);\n","import React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport { withContext } from '../context';\n\nimport PropTypes from 'prop-types';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\n\nimport { withStyles, InputBase } from '@material-ui/core';\n\nconst styles = theme => ({\n    search: {\n        position: 'relative',\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        '&:hover': {\n            backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginLeft: theme.spacing.unit * 2,\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            marginLeft: theme.spacing.unit,\n            width: 'auto',\n        },\n    },\n    searchIcon: {\n        width: '48px',\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    inputRoot: {\n        color: 'inherit',\n        width: '100%',\n    },\n    inputInput: {\n        paddingTop: theme.spacing.unit,\n        paddingRight: theme.spacing.unit,\n        paddingBottom: theme.spacing.unit,\n        paddingLeft: '50px',\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            width: 120,\n            '&:focus': {\n                width: 200,\n            },\n        }, \n    },\n});\n\nconst Searchbar = (props) => {\n    const { classes } = props;\n\n    const handleEnter = (e) => {\n        console.log('search', e.target.value);\n\n        const { history } = props;\n        if (e.key === 'Enter') {\n            props.handleSearch(e.target.value);\n            e.target.value = '';\n            history.push('/search');\n        }\n    }\n    \n    return (\n        <div className={classes.search}>\n            <div className={classes.searchIcon}>\n                <SearchIcon />\n            </div>\n            <InputBase\n                placeholder=\"Search…\"\n                onKeyPress={handleEnter}\n                classes={{\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                }}\n            />\n        </div>\n    )\n}\n\nSearchbar.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withRouter(withContext(withStyles(styles)(Searchbar)));","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { withContext } from './context';\n\nimport Searchbar from './header/Searchbar';\n\nimport PropTypes from 'prop-types';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport HomeIcon from '@material-ui/icons/Home';\nimport BookmarksIcon from '@material-ui/icons/Bookmarks';\nimport StarIcon from '@material-ui/icons/Star';\nimport HistoryIcon from '@material-ui/icons/History';\nimport InfoIcon from '@material-ui/icons/Info';\n\nimport {\n  AppBar,\n  Badge,\n  Divider,\n  IconButton,\n  LinearProgress,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  SwipeableDrawer,\n  Toolbar,\n  Typography,\n  withStyles,\n} from '@material-ui/core';\n\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n  list: {\n    width: 250,\n  },\n  toolbar: theme.mixins.toolbar,\n  \n});\n\nconst menu = [{\n  title: 'Home',\n  icon: <HomeIcon />,\n  route: '/'\n}, {\n  title: 'Tags',\n  icon: <BookmarksIcon />,\n  route: '/tags'\n}, {\n  title: 'Likes',\n  icon: <StarIcon />,\n  route: '/likes'\n}, {\n  title: 'Recent',\n  icon: <HistoryIcon />,\n  route: '/recent'\n}, {\n  title: 'About',\n  icon: <InfoIcon />,\n  route: '/about'\n}];\n\nclass AppHeader extends React.Component {\n  state = {\n    drawer: false,\n  };\n\n  toggleDrawer = (open) => () => {\n    this.setState({ drawer: open });\n  };\n\n  handleMenu = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handleClose = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { app } = this.props;\n\n    // Drawer Menu\n    const sideList = (\n      <List className={classes.list}>\n        {menu.map((item) => {\n          const ItemIcon = item.icon;\n          return (\n            (item.title !== 'Likes') ?\n              <ListItem button key={item.title} component={Link} to={item.route} >\n                <ListItemIcon>\n                  {ItemIcon}\n                </ListItemIcon>\n                <ListItemText primary={item.title} />\n              </ListItem>\n              :\n              <ListItem button key={item.title} component={Link} to={item.route} >\n                <ListItemIcon>\n                  <Badge color=\"secondary\" badgeContent={app.likedArticles.length}>\n                    {ItemIcon}\n                  </Badge>\n                </ListItemIcon>\n                <ListItemText primary={item.title} />\n              </ListItem>\n          );\n        })}\n      </List>\n    );\n\n    return (\n      <div>\n\n        <SwipeableDrawer\n          className={classes.drawer}\n          open={this.state.drawer}\n          onClose={this.toggleDrawer(false)}\n          onOpen={this.toggleDrawer(true)} >\n          <div\n            tabIndex={0}\n            role=\"button\"\n            onClick={this.toggleDrawer(false)}\n            onKeyDown={this.toggleDrawer(false)} >\n            <div className={classes.toolbar} />\n            <Divider />\n            {sideList}\n          </div>\n        </SwipeableDrawer>\n\n        <AppBar position=\"static\">\n          <Toolbar>\n            <IconButton\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"Menu\"\n              onClick={this.toggleDrawer(true)}>\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\n              {true &&\n                'WIKI'\n              } \n            </Typography>\n            <Searchbar/>\n          </Toolbar>\n          {app.isLoading && <LinearProgress color=\"secondary\" />}\n        </AppBar>\n      </div>\n    );\n  }\n}\n\nAppHeader.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withContext(withStyles(styles)(AppHeader));\n","import React, { Component, Fragment } from 'react';\nimport { Paper, Typography, Zoom } from '@material-ui/core';\nimport { withContext } from './context';\n\n\nexport const withPage = (WrappedComponent, headLine, isReady) => {\n    return withContext( class Page extends Component {\n        state = {\n            isReady: false,\n            headLine: '',\n        }\n\n        componentDidMount() {\n            this.props.app.loading(true);\n            if (isReady) this.ready(true);\n            if (headLine) this.setHeadLine(headLine);\n        }\n\n        ready = (isReady) => {\n            this.setState({ isReady });\n            this.props.app.loading(false);\n        }\n\n        setHeadLine = (headLine) => {\n            this.setState({ headLine });\n        }\n\n        render() {\n            return(\n                <Fragment>\n\n                    <Typography component=\"h2\" variant=\"h4\" color=\"textSecondary\" >\n                        {this.state.headLine}\n                    </Typography>\n\n                    <Zoom in={this.state.isReady}>\n                        <Paper>\n                            <WrappedComponent \n                                ready={this.ready} \n                                setHeadLine={this.setHeadLine}\n                                likedArticles={this.props.app.likedArticles}\n                                recentArticles={this.props.app.recentArticles}\n                                addRecent={this.props.app.addRecent}\n                            />\n                        </Paper>\n                    </Zoom>\n\n                </Fragment>\n            );\n        }\n    });\n}","import React from 'react'\nimport { withPage } from '../Page';\n\nconst About = props => {\n    return (\n        <div>\n            About jojo <span>🇺🇸 🇩🇪</span>\n        </div>\n    )\n}\n\nexport default withPage(About, 'About', true);","\nconst apiUrl = process.env.REACT_APP_API_URL;\nconst delay = (process.env.NODE_ENV === 'development')? 1000 : 0;\n\nconst GET = ({ requestUrl, cb }) => {\n    let response = null;\n\n    setTimeout(() => {\n        fetch(requestUrl)\n            .then(res => {\n                response = res;\n                return res.json();\n            })\n            .then(data => cb(data))\n            .catch(err => {\n                console.log('GET ERROR:', err, response);\n                return cb([]);\n            });\n    }, delay);\n}\n\nexport const getArticles = ({ ids, page }, cb) => {\n    const endpoint = `${apiUrl}/api/articles/`;\n    const reqIds = (ids.length > 0) ? ids.join('+') : '';\n    const reqPage = (page > 0) ? `?page=${page}` : '';\n    const requestUrl = endpoint + reqIds + reqPage;\n    // console.log('getArticles', ids, 'page', page, 'url', requestUrl);\n    GET({ requestUrl, cb });\n}\n\nexport const getArticle = (id, cb) => {\n    const endpoint = `${apiUrl}/api/articles/`;\n    const requestUrl = endpoint + id;\n    fetch(requestUrl)\n        .then(res => res.json())\n        .then(data => cb(data[0]))\n        .catch(err => console.log(err));\n}\n\nexport const getTags = (tid, cb) => {\n    const endpoint = `${apiUrl}/api/term/`;\n    const requestUrl = endpoint + tid;\n    GET({ requestUrl, cb });\n}\n\nexport const getArticlesByTag = (id, cb) => {\n    const endpoint = `${apiUrl}/api/tag/`;\n    const requestUrl = endpoint + id;\n    GET({ requestUrl, cb });\n}\n\nexport const nodeReq = (ids, cb) => {\n    const endpoint = `${apiUrl}/api/articles/`;\n    const requestUrl = endpoint + ids.join('+');\n    GET({ requestUrl, cb });\n}\n\nexport const searchReq = (q, cb) => {\n    const endpoint = `${apiUrl}/api/search?_q=`;\n    const requestUrl = endpoint + q;\n    GET({ requestUrl, cb });\n}\n\nexport const tagReq = (id, cb) => {\n    const endpoint = `${apiUrl}/api/tag/`;\n    const requestUrl = endpoint + id;\n    GET({ requestUrl, cb });\n}\n\nexport const termReq = (tid, cb) => {\n    const endpoint = `${apiUrl}/api/term/`;\n    const requestUrl = endpoint + tid;\n    GET({ requestUrl, cb });\n}","// version = 0.2\n// description = generate a table of contents (toc) on page load\n\nexport const injectToc = (node) => {\n\n    let wrapper = document.createElement('div');\n    wrapper.innerHTML = node;\n\n    const toc = wrapper.getElementsByClassName('table-of-contents')[0];\n    if (toc) console.log('### generate table of contents'); else return wrapper.innerHTML;\n\n    // caching\n    const alphabetical = (toc.classList.contains('alphabetical')) ? true : false;\n    const numerals = (toc.classList.contains('numerals')) ? true : false;\n    const headingNodes = wrapper.getElementsByTagName('h3');\n    const headingsList = getText(headingNodes);\n    const tocLinks = generateTocLinks(headingsList);\n\n    addIds(headingNodes);\n    if (numerals) addNumerals(headingNodes);\n\n    addHref(tocLinks);\n    if (alphabetical) orderAlphabetical(tocLinks);\n    // console.dir(tocLinks);\n\n    let tocList = generateTocList(tocLinks);\n    tocList.addEventListener('click', event => {\n            event.preventDefault();\n            var target = ('href' in event.target) ? event.target.attributes.href.value : null;\n            scrollintoView(target);\n            // console.dir(target);\n        });\n\n    toc.innerHTML = '';\n    toc.append(tocList);\n\n    // scroll to top btn\n    // insertToTopBtn(article);\n\n\n    return wrapper.innerHTML;\n}\n\n\nfunction getText(nodeList) {\n    var textList = [];\n    for (var i = 0; i < nodeList.length; i++) {\n        textList.push(nodeList[i].innerText);\n    }\n    return textList;\n}\n\n\nfunction generateTocLinks(textList) {\n    var links = [];\n\n    for (var i = 0; i < textList.length; i++) {\n        var item = textList[i];\n\n        var link = document.createElement('a');\n        link.classList.add('toc-link');\n        link.setAttribute('href', '#toc-' + (i + 1));\n        link.innerText = item;\n\n        links.push(link);\n    }\n    return links;\n}\n\n\nfunction addHref(links) {\n    for (var i = 0; i < links.length; i++) {\n        var link = links[i];\n        link.setAttribute('href', '#toc-' + (i + 1));\n    }\n    return links;\n}\n\n\nfunction generateTocList(nodeList) {\n    var list = document.createElement('ul');\n\n    for (var i = 0; i < nodeList.length; i++) {\n        var item = nodeList[i];\n\n        var listElement = document.createElement('li');\n        listElement.classList.add('toc-item');\n\n        listElement.append(item);\n        list.append(listElement);\n    }\n    return list;\n}\n\n\nfunction orderAlphabetical(nodeList) {\n    var output = nodeList.sort(function (a, b) {\n        var nameA = a.innerText.toUpperCase(); // ignore upper and lowercase\n        var nameB = b.innerText.toUpperCase(); // ignore upper and lowercase\n        if (nameA < nameB) return -1;\n        if (nameA > nameB) return 1;\n        return 0;\n    });\n    // console.log(output);\n    return output;\n}\n\n\nfunction addNumerals(headingNodes) {\n    for (var i = 0; i < headingNodes.length; i++) {\n        headingNodes[i].innerText = (i + 1) + '. ' + headingNodes[i].innerText;\n    }\n}\n\n\nfunction addIds(headingNodes) {\n    for (var i = 0; i < headingNodes.length; i++) {\n        headingNodes[i].id = 'toc-' + (i + 1);\n    }\n}\n\n\nfunction scrollintoView(id) {\n    var target = document.getElementById(id.slice(1, id.length));\n    if (target) {\n        var offset = target.offsetTop + target.offsetParent.offsetTop;\n        window.scrollTo({ top: offset, behavior: 'smooth' });\n    }\n}\n\n\nfunction insertToTopBtn(domNode) {\n    var topBtn = document.createElement('div');\n    topBtn.classList.add('back-to-top-btn', 'btn', 'btn-primary');\n    topBtn.innerText = 'TOP';\n    domNode.appendChild(topBtn);\n\n    topBtn.addEventListener('click', function () {\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n    });\n\n    // console.log('getOffset', getOffset());\n    topBtn.style.left = getOffset();\n\n    var resizeTimer;\n    window.addEventListener('resize', function () {\n        clearTimeout(resizeTimer);\n        resizeTimer = setTimeout(function () {\n            topBtn.style.left = getOffset();\n        }, 250);\n    });\n\n    function getOffset() {\n        var offset = (domNode.offsetLeft + domNode.offsetParent.offsetLeft + domNode.clientWidth - topBtn.clientWidth) + 'px';\n        return offset;\n    }\n}","import React, { Component, Fragment } from 'react';\nimport { withContext } from '../context';\n\nimport PropTypes from 'prop-types';\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\n\nimport {\n    withStyles,\n    Fab,\n} from '@material-ui/core';\n\n\nconst styles = theme => ({\n    fab: {\n        position: 'fixed',\n        bottom: theme.spacing.unit,\n        right: theme.spacing.unit * 2,\n    }\n});\n\n\nclass LikeBtn extends Component {\n    state = {\n        liked: false,\n    }\n\n    componentDidMount() {\n        const liked = this.checkLike();\n        this.setState({ liked });\n        // console.log(this.props);\n    }\n\n    checkLike = () => this.props.app.likedArticles.includes(this.props.nid);\n\n    handleLike = () => {\n        this.props.app.toggleLike(this.props.nid, this.props.match.path);\n        \n        const liked = this.checkLike();\n        this.setState({ liked });\n    };\n    \n    render() {\n        const { classes } = this.props;\n        const { liked } = this.state;\n\n        const likeIcon = (liked) ? <StarIcon /> : <StarBorderIcon />;\n        const likeText = (liked) ? \"Unlike\" : \"Like\";\n        const likeColor = (liked) ? \"default\" : \"secondary\";\n\n        return (\n            <Fab size=\"large\" \n                color={likeColor} \n                aria-label={likeText} \n                onClick={this.handleLike}\n                className={classes.fab}>\n                {likeIcon}\n            </Fab>\n        );\n    }\n\n}\n\nLikeBtn.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(withContext(LikeBtn));","import React, { Component, Fragment } from 'react';\nimport { withRouter, Link } from \"react-router-dom\";\n\nimport { getArticle } from '../../js/api';\nimport { toLocalDate, stripTags } from \"../../js/helper\";\nimport { injectToc } from '../../js/toc';\nimport LikeBtn from '../article/LikeBtn';\n\nimport PropTypes from 'prop-types';\nimport { withStyles, Typography, Button } from '@material-ui/core';\nimport { withPage } from '../Page';\n\n\nconst Like = withRouter(props => <LikeBtn {...props} />);\n\nclass Article extends Component {\n    state = {\n        article: {\n            nid: null,\n            title: '',\n            body: '',\n            tags: '',\n        }\n    }\n\n    componentDidMount() {\n\n        getArticle(this.props.match.params.nid, article => {\n            article.body = injectToc(article.body);\n            this.setState({ article }, () => {\n                this.props.ready(true);\n                this.props.addRecent(article.nid);\n            });\n        });\n    }\n\n    render() {\n        const article = this.state.article;\n\n        const tags = stripTags(article.tags).map(tag => {\n            return (\n                <Button\n                    key={tag.tid}\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    component={Link}\n                    to={`/tag/${tag.tid}`}>\n                    {'#' + tag.title}\n                </Button>\n            );\n        });\n\n        return (\n            <Fragment>\n                <div style={{ padding: 18 }}>\n                    <LikeBtn nid={article.nid} />\n\n                    <Typography component=\"h1\" variant=\"h4\" gutterBottom>\n                        {article.title}\n                    </Typography>\n\n                    <Typography variant=\"body1\" dangerouslySetInnerHTML={{ __html: article.body }} />\n\n                    {tags}\n                </div>\n            </Fragment>\n        );\n    }\n}\n\n\nexport default withPage(withRouter(Article));\n","import React, { Component, Fragment } from 'react';\nimport { withContext } from '../context';\nimport { withRouter } from \"react-router-dom\";\n\nimport PropTypes from 'prop-types';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport ShareIcon from '@material-ui/icons/Share';\n\nimport {\n    withStyles,\n    ListItemText,\n    ListItemIcon,\n    Menu,\n    MenuItem,\n    IconButton,\n} from '@material-ui/core';\n\n\nconst styles = theme => ({\n    menuItem: {\n    },\n    primary: {},\n    icon: {},\n});\n\n\nclass ArticleMenu extends Component {\n    state = {\n        anchorEl: null,\n        liked: false,\n    }\n\n    componentDidMount() {\n        const liked = this.checkLike();\n        this.setState({ liked });\n    }\n\n    checkLike = () => this.props.app.likedArticles.includes(this.props.nid);\n\n    handleClick = event => {\n        this.setState({ anchorEl: event.currentTarget });\n    };\n\n    handleLike = () => {\n        this.props.app.toggleLike(this.props.nid, this.props.match.path);\n        \n        const liked = this.checkLike();\n        this.setState({ liked });\n        \n        this.handleClose();\n    };\n    \n    handleShare = () => {\n        this.props.app.share(this.props.nid);\n        this.handleClose();\n    };\n\n    handleClose = () => {\n        this.setState({ anchorEl: null });\n    };\n\n\n    render() {\n        const { classes } = this.props;\n        const { anchorEl, liked } = this.state;\n        const open = Boolean(anchorEl);\n\n        // console.log('like', this.props.likedArticles.includes(this.props.nid) );\n        const likeIcon = (liked) ? <StarIcon /> : <StarBorderIcon />;\n        const likeText = (liked) ? \"Unlike\" : \"Like\";\n\n        return (\n            <Fragment>\n                <IconButton\n                    aria-label=\"More\"\n                    aria-owns={open ? 'long-menu' : undefined}\n                    aria-haspopup=\"true\"\n                    onClick={this.handleClick} >\n                    <MoreIcon />\n                </IconButton>\n                <Menu id=\"simple-menu\" anchorEl={anchorEl} open={open} onClose={this.handleClose} >\n                    <MenuItem onClick={this.handleLike} className={classes.menuItem}>\n                        <ListItemIcon className={classes.icon}>\n                            {likeIcon}\n                        </ListItemIcon>\n                        <ListItemText \n                            classes={{ primary: classes.primary }} inset \n                            primary={likeText} \n                        />\n                    </MenuItem>\n                    <MenuItem onClick={this.handleShare} className={classes.menuItem}>\n                        <ListItemIcon className={classes.icon}>\n                            <ShareIcon />\n                        </ListItemIcon>\n                        <ListItemText classes={{ primary: classes.primary }} inset primary=\"Share\" />\n                    </MenuItem>\n                </Menu>\n            </Fragment>\n        );\n    }\n\n}\n\nArticleMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(withContext(withRouter(ArticleMenu)));","import React, { Fragment } from 'react';\nimport { Link } from \"react-router-dom\";\n\nimport { toLocalDate, stripTags } from \"./../../js/helper\";\nimport ArticleMenu from './ArticleMenu';\nimport { List, ListItem, ListItemText, ListItemSecondaryAction, Divider, } from '@material-ui/core';\n\nconst ArticleList = (props) => {\n\n    const articles = props.articles.map((article, i, arr) => {\n        const tags = stripTags(article.tags).map((tag, i, arr) =>\n            <small key={i}> {'#' + tag.title} </small>\n        );\n\n        return(\n            <Fragment key={article.nid}>\n                <ListItem button component={Link} to={`/article/${article.nid}`} >\n                    <ListItemText\n                        primary={article.title}\n                        secondary={<span>{toLocalDate(article.changed)}<br />{tags}</span>}\n                    />\n                    <ListItemSecondaryAction>\n                        <ArticleMenu nid={article.nid} />\n                    </ListItemSecondaryAction>\n                </ListItem>\n                {(i !== arr.length - 1) && <Divider />}\n            </Fragment>\n        );\n    });\n\n    return (\n        <List>\n            {articles}\n        </List>\n    );\n}\n\nexport default ArticleList;\n","import React, { Component, Fragment } from 'react';\n\nimport { withPage } from '../Page';\nimport { getArticles } from '../../js/api';\nimport ArticleList from '../article/ArticleList';\n\nimport PropTypes from 'prop-types';\nimport { withStyles, Button, CircularProgress } from '@material-ui/core';\n\nconst styles = theme => ({\n    button: {\n        width: '100%',\n    },\n    progress: {\n        display: 'flex',\n        justifyContent: 'center',\n    },\n});\n\nclass Home extends Component {\n    state = {\n        articles: [],\n        page: 0,\n        loading: false,\n        noMoreResults: false,\n    }\n\n    componentDidMount() {\n        this.getPage(() => {\n            this.props.ready(true);\n        });\n    }\n\n    getPage = (cb) => {\n        getArticles({ ids: [], page: this.state.page }, (fetchedArticles) => {\n            if (fetchedArticles.length > 0) {\n                this.pushArticles(fetchedArticles);\n            } else {\n                this.setState({ noMoreResults: true });\n            }\n            cb();\n        });\n    }\n\n    pushArticles = (newArticles) => {\n        let articles = this.state.articles;\n        for (let i = 0; i < newArticles.length; i++) {\n            const article = newArticles[i];\n            articles.push(article);\n        }\n        this.setState({ articles });\n    }\n\n    nextPage = () => {\n        if (!this.state.noMoreResults) {\n            this.setState({ loading: true });\n\n            this.setState({ page: this.state.page + 1 }, () => {\n                this.getPage(() => {\n                    this.setState({ loading: false });\n                });\n            });\n        }\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Fragment>\n                <ArticleList articles={this.state.articles} />\n                {this.state.loading &&\n                    <div className={classes.progress}>\n                        <CircularProgress color=\"secondary\" />\n                    </div>\n                }\n                {!this.state.noMoreResults &&\n                    <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        className={classes.button}\n                        onClick={this.nextPage} >\n                        More\n                    </Button>\n                }\n            </Fragment>\n        );\n    }\n}\n\nHome.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withPage(withStyles(styles)(Home));","import React, { Component, Fragment } from 'react'\n\nimport { withPage } from '../Page';\nimport { getArticles } from '../../js/api';\nimport ArticleList from '../article/ArticleList';\n\n\nclass Likes extends Component {\n    state = {\n        articles: [],\n    }\n\n    componentDidMount() {\n        if (this.props.likedArticles.length === 0) return;\n        \n        getArticles({ids: this.props.likedArticles}, articles => {\n            this.setState({ articles });\n            this.props.ready(true);\n        });\n    }\n\n    render() {\n        return <ArticleList articles={this.state.articles} />\n    }\n}\n\nexport default withPage(Likes, 'Likes');","import React, { Component } from 'react'\n\nimport { withPage } from '../Page';\nimport { getArticles } from '../../js/api';\nimport ArticleList from '../article/ArticleList';\n\n\nclass Recent extends Component {\n    state = {\n        articles: [],\n    }\n\n    componentDidMount() {\n        if (this.props.recentArticles.length === 0) {\n            this.props.ready(true);\n            return;\n        }\n        \n        getArticles({ids: this.props.recentArticles}, articles => {\n            this.setState({ articles });\n            this.props.ready(true);\n        });\n    }\n\n    render() {\n        return <ArticleList articles={this.state.articles} />\n    }\n}\n\nexport default withPage(Recent, 'Recently viewed');","import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\n\nimport { getArticlesByTag, getTags } from '../../js/api'\nimport ArticleList from '../article/ArticleList';\nimport { withPage } from '../Page';\n\n\nclass ArticlesByTag extends Component {\n    state = {\n        articles: [],\n        loading: false,\n    }\n\n    componentDidMount() {\n        const tid = this.props.match.params.tid;\n        getTags(tid, tag => this.props.setHeadLine('#' + tag[0].title) );\n\n        getArticlesByTag(tid, articles => {\n            this.setState({ articles });\n            this.props.ready(true);\n        });\n    }\n\n    render() {\n        return <ArticleList articles={this.state.articles} />\n    }\n}\n\nexport default withPage(withRouter(ArticlesByTag));\n","import React, { Component, Fragment } from 'react';\nimport { Link } from \"react-router-dom\";\n\nimport { getTags } from '../../js/api';\nimport { withPage } from '../Page';\n\nimport PropTypes from 'prop-types';\nimport { withStyles, Button } from '@material-ui/core';\n\n\nconst styles = theme => ({\n  wrapper: {\n    textAlign: 'center',\n    padding: theme.spacing.unit,\n  },\n  button: {\n    margin: theme.spacing.unit / 2,\n  },\n});\n\nclass TagList extends Component {\n  state = {\n    tags: []\n  };\n  \n  componentDidMount() {\n    getTags('', tags => {\n      this.setState({ tags });\n      this.props.ready(true);\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    const tags = this.state.tags.map(tag => {\n      return (\n        <Button \n          key={tag.tid}\n          variant=\"contained\"\n          color=\"secondary\"\n          className={classes.button}\n          component={Link}\n          to={`/tag/${tag.tid}`}>\n          {'#' + tag.title}\n        </Button>\n      );\n    });\n\n    return (\n      <div className={classes.wrapper} >\n          {tags}\n      </div>\n    );\n  }\n}\n\nTagList.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withPage(withStyles(styles)(TagList), 'Tags');\n","import React, { Component, Fragment } from 'react'\n\nimport { searchReq } from '../../js/api';\nimport ArticleList from '../article/ArticleList';\nimport { withContext } from '../context';\n\nimport PropTypes from 'prop-types';\nimport { withStyles, Typography } from '@material-ui/core';\n\nconst styles = theme => ({\n    headline: {\n        marginBottom: theme.spacing.unit,\n        marginTop: theme.spacing.unit,\n    }\n});\n\nclass SearchResult extends Component {\n\n    componentDidMount() {\n        this.search();\n    }\n\n    componentDidUpdate(oldProps) {\n        const newProps = this.props;\n        if (oldProps.search !== newProps.search) {\n            // this.setState({ open: false })\n            this.search();\n            console.log('new props');\n        }\n    }\n    \n    search = () => {\n        this.props.setHeadLine(`search: ${this.props.search}`);\n        if (this.props.search === '') return; // block empty search\n\n        this.props.loading(true);\n        searchReq(this.props.search, nodes => {\n            this.props.updateNodes(nodes);\n            this.props.loading(false);\n        });\n    }\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <Fragment>\n                <Typography\n                    component=\"h2\"\n                    variant=\"h4\"\n                    color=\"textSecondary\"\n                    className={classes.headline} >\n                    {this.props.headLine}\n                </Typography>\n                {!this.props.isLoading && (this.props.nodes.length > 0) &&\n                    <ArticleList />\n                }\n            </Fragment>\n        )\n    }\n}\n\nSearchResult.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withContext(withStyles(styles)(SearchResult));\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Provider } from './components/context'; \n\nimport { handleLocalStore } from './js/helper';\n\nimport SplashScreen from './components/SplashScreen';\nimport Header from './components/Header';\n\n// routes\nimport About from './components/routes/About';\nimport Article from './components/routes/Article';\nimport Home from './components/routes/Home';\nimport Likes from './components/routes/Likes';\nimport Recent from './components/routes/Recent';\nimport ArticlesByTag from './components/routes/ArticlesByTag';\nimport Tags from './components/routes/Tags';\nimport SearchResult from './components/routes/SearchResult';\n\nimport PropTypes from 'prop-types';\nimport { withStyles, Grid } from '@material-ui/core';\n\n\nconst styles = theme => ({\n  root: {\n    maxWidth: 800,\n    margin: 'auto',\n    padding: theme.spacing.unit,\n  },\n  '@global': {\n    'code, pre': {\n      background: theme.palette.grey[200],\n      padding: 3,\n      overflowX: 'auto',\n      fontFamily: 'source-code-pro, Menlo, Monaco, Consolas, Courier New, monospace',\n    },\n    'ul': {\n      paddingLeft: '1.2em',\n    }\n  }\n});\n\n\nclass App extends Component {\n  state = {\n    isLoading: false,\n    likedArticles: [],\n    recentArticles: [],\n    search: '',\n    renderSplashscreen: true,\n  }\n\n  componentDidMount() {\n    console.log('### App mountet, Mode:', process.env.NODE_ENV);\n    setTimeout(() => {\n      this.setState({ renderSplashscreen: false });\n    }, 500);\n\n    let likedArticles = handleLocalStore({key: 'likes'});\n    if(likedArticles) {\n      likedArticles = likedArticles.split(',');\n      this.setState({ likedArticles });\n    }\n  }\n\n  removeNode(nid) {\n    console.log('remove', nid);\n    const nodes = this.state.nodes.filter((node) => {\n      return node.nid !== nid;\n    });\n    this.setState({ nodes });\n  }\n  \n  loading = (isLoading) => {\n    this.setState({ isLoading });\n  }\n\n  addRecent = (nid) => {\n    let recentArticles = this.state.recentArticles;\n    recentArticles.push(nid);\n    recentArticles = recentArticles.filter((v, i, a) => a.indexOf(v) === i);\n    this.setState({ recentArticles });\n  }\n\n  handleSearch = (search) => {\n    // console.log(this.props);\n    this.setState({ search });\n  }\n  \n  toggleLike = (nid, path) => {\n    let { likedArticles } = this.state;\n    const index = likedArticles.indexOf(nid);\n\n    if (index >= 0) { // unLike\n      likedArticles.splice(index, 1); // remove node from likedArticles\n      if(path === '/likes') this.removeNode(nid); // remove node from view\n    }else { // like\n      likedArticles.push(nid);\n    }\n\n    handleLocalStore({ key: 'likes', value: likedArticles });\n    this.setState({ likedArticles });\n  }\n\n  share = nid => {\n    console.log('share', nid);\n  }\n\n  getAppContext = () => ({\n    app: {\n      addRecent: this.addRecent,\n      handleSearch: this.handleSearch,\n      loading: this.loading,\n      removeNode: this.removeNode,\n      toggleLike: this.toggleLike,\n      share: this.share,\n      ...this.state,\n    }\n  });\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <Router basename={(process.env.NODE_ENV === 'production')? '/wiki' : ''} >\n        <SplashScreen open={this.state.renderSplashscreen} minLiveTime={3000} />\n\n          {!this.state.renderSplashscreen &&\n          <Provider value={this.getAppContext()}>\n            <Header />\n\n            <Grid container className={classes.root}>\n              <Grid item xs={12}>\n                <Switch>\n                  <Route exact path=\"/\" component={Home} />\n                  <Route exact path=\"/tags\" component={Tags} />\n                  <Route exact path=\"/likes\" component={Likes} />\n                  <Route exact path=\"/recent\" component={Recent} />\n                  <Route exact path=\"/about\" component={About} />\n                  <Route path=\"/tag/:tid\" component={ArticlesByTag} />\n                  <Route path=\"/article/:nid\" component={Article} />\n                  <Route path=\"/search\" component={SearchResult} />\n                  <Route path=\"*\" component={() => \"404 NOT FOUND\"} />\n                </Switch>\n              </Grid>\n            </Grid>\n          </Provider>\n          }\n\n        </Router>\n    );\n  }\n}\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'typeface-roboto';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { deepPurple as brandPrimary, pink as brandSecondary, grey } from '@material-ui/core/colors';\n\nconst theme = createMuiTheme({\n    type: \"dark\",\n    palette: {\n        primary: {\n            // main: brandPrimary[900],\n            main: '#5300b8',\n        },\n        secondary: {\n            // light: '#0066ff',\n            main: brandSecondary.A400,\n            // dark: will be calculated from palette.secondary.main,\n            // contrastText: brandPrimary[900],\n        },\n        common: {\n            black: \"#fff\",\n            white: \"#000\",\n        },\n        background: {\n            paper: grey[50],\n            default: grey[400],\n        },\n        text: {\n            // disabled: \"rgba(255,255,255, 0.38)\",\n            // hint: \"rgba(255,255,255, 0.38)\",\n            // primary: \"rgba(255,255,255, 0.87)\",\n            // secondary: \"rgba(255,255,255, 0.54)\",\n        },\n        // contrastThreshold: 3,\n        // tonalOffset: 0.2,\n    },\n    shape: {\n        borderRadius: 3,\n    },\n    spacing: {\n        unit: 8,\n    },\n    typography: {\n        useNextVariants: true,\n    },\n});\n\n// console.log(theme);\n\nReactDOM.render(\n    <MuiThemeProvider theme={theme}>\n        <CssBaseline />\n        <App />\n    </MuiThemeProvider>, document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}